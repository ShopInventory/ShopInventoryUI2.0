import{a as R,b as B,c as dt,d as st,e as Xt,f as mt,g as Oe,k as ct,l as pt,m as ut,n as gt}from"./chunk-BVLTSRUA.js";import"./chunk-FK6H3RFT.js";import{A as re,Aa as Fe,B as le,Ba as Q,C as P,Ca as O,E as de,F as A,H as U,J as se,K as Z,L as me,M as ce,N as pe,O as nt,P as rt,Q as lt,V as ue,W as ge,X as fe,Y as Ce,Z as E,a as wt,b as Gt,c as Qt,ca as ye,ia as _e,j as K,ja as be,ka as he,la as Ie,na as k,oa as F,p as ee,pa as Se,qa as ve,ra as xe,sa as we,t as te,ta as De,u as h,ua as Me,v as ie,va as Ee,w as oe,wa as Ve,xa as Te,y as ae,ya as Ne,z as ne,za as ke}from"./chunk-B7EITV4E.js";import{$b as Bt,Ab as Zt,B as vt,Bb as Rt,Cb as a,Db as n,Eb as c,Ec as Le,Fb as I,Fc as Y,Gb as S,Gc as q,Ib as M,J as L,Jc as $,Lb as C,Lc as N,Nb as _,Qb as Ze,Sb as v,Tb as x,Ua as at,Ub as w,Wa as d,Xb as T,Y as it,Yb as l,Zb as b,_b as G,ba as ot,ca as y,ec as z,f as Xe,gc as Re,hb as V,hc as H,ic as Lt,jc as Be,ka as u,la as g,m as At,mb as f,sb as m,ta as xt,xb as We,yb as Ut}from"./chunk-ISFN6XVN.js";import{a as W,b as tt}from"./chunk-EQDQRRRY.js";var Yt="http://172.22.32.95:8080/shopInventory/",qt="DEVENV",$t=[{tokenName:"Rajeev (Directrate Treasury and Accounts - DDO (1090))",token:{MpJwtToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwOi8vaWZtc3Rlc3QucmFqYXN0aGFuLmdvdi5pbiIsImF1ZCI6InRhcmdldFNlcnZpY2UiLCJqdGkiOiI5YTJmZjc2MC1lYThjLTQ4YmYtYmQ2YS1jNmQ2OWFkNGZiMmQiLCJleHAiOjE3MjU2NjU1NjAsImlhdCI6MTcxNTY2NDM2MCwic3ViIjoiSUZNU1RFU1QiLCJ1cG4iOiJJRk1TVEVTVCIsInByZWZlcnJlZF91c2VybmFtZSI6IklGTVMgVE9LRU4iLCJzc29JZCI6IlJBSkVFVi5DLktVTUFSIiwibGV2ZWxWYWx1ZUlkIjpudWxsLCJkaXNwbGF5TmFtZSI6IlJBSkVFViBLVU1BUiIsInJvbGVJZCI6IjI5IiwiZGVwdElkIjoiMTA1IiwiZW1wbG95ZWVJZCI6IlJKSlAyMDIyMDAwMDAwMTgiLCJsZXZlbE5hbWUiOiJPRkZJQ0UiLCJ1c2VySWQiOiIxMTA2MjkiLCJvZmZpY2VJZCI6IjEwOTAiLCJsZXZlbElkIjoiMSIsInJvbGVOYW1lIjoiRERPIiwibGV2ZWxWYWx1ZUNvZGUiOiIxMDkwIiwiYWlkIjoiOTczNTgiLCJ0cmVhc0NvZGUiOiIyMTAwIiwiZ3JvdXBzIjpbXX0.ZgZhApY_ovidHaI0e6F27FLdX_EtPuNKIr0UOKvBTl0",landtoken:"0",roleName:"",roleId:"",jwt_token:"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJodHRwOi8vIiwiYXVkIjpudWxsLCJqdGkiOm51bGwsImV4cCI6MTcxNTY2NTU0MywiaWF0IjoxNzE1NjY0MzQzLCJzdWIiOm51bGwsInVwbiI6bnVsbCwicHJlZmVycmVkX3VzZXJuYW1lIjoiU1NPIFRPS0VOIiwic3NvSWQiOiJSQUpFRVYuQy5LVU1BUiIsImFhZGhhYXJJZCI6IjQ0NDYzMjQ3ODU4MTA5MiIsImdlbmRlciI6Ik1BTEUiLCJkaXNwbGF5TmFtZSI6IlJBSkVFViBLVU1BUiIsImVtcGxveWVlSWQiOiJSSkpQMjAyMjAwMDAwMDE4IiwidXNlclR5cGUiOiJHT1ZUIiwidXNlcklkIjoiMTEwNjI5IiwiZ3JvdXBzIjpbXX0.SlpV3gjhaJS3X0NR6EdKv0ctgHlWcHjvAFtaFBsGZwR9CYJSM6xOmFhOCBr9lj3cMIKym8cKNoJMCWv8xHh4TOiEYv1rqQjNP_9il0jeltBiwAJWI__MWkyKgLfYhSNNFkwbYYDqE_t068U8VVh15p-K_JnudWgJ1cQZRuruD_-Xj3UOeVMIX8Ub1trX4gqWpbJ3oThzl9PYfcsIRRM9paMFpenSH8LHlKV1WRsBqW2A9eALHF4N5nvshBCb58DUvhQaDSYZqmnQiu2Llnor7O33JbuoZSIyb77Rq1Ef3S0evpE_IhMKBqTS74cBSoCly4DryTkKDgnTm5i5qvOUuA"}},{tokenName:"Rajeev (Police Department, Jaipur - DDO (102080))",token:{MpJwtToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwOi8vaWZtc3Rlc3QucmFqYXN0aGFuLmdvdi5pbiIsImF1ZCI6InRhcmdldFNlcnZpY2UiLCJqdGkiOiJlZDQ1ZTcwZS1mODQyLTQxNjktODkxZi04NDQ5N2NlNWEzMjAiLCJleHAiOjE3MjYxOTg5OTMsImlhdCI6MTcxNjE5Nzc5Mywic3ViIjoiSUZNU1RFU1QiLCJ1cG4iOiJJRk1TVEVTVCIsInByZWZlcnJlZF91c2VybmFtZSI6IklGTVMgVE9LRU4iLCJzc29JZCI6IlJBSkVFVi5DLktVTUFSIiwibGV2ZWxWYWx1ZUlkIjpudWxsLCJkaXNwbGF5TmFtZSI6IlJBSkVFViBLVU1BUiIsInJvbGVJZCI6IjI5IiwiZGVwdElkIjoiNjkiLCJlbXBsb3llZUlkIjoiUkpKUDIwMjIwMDAwMDAxOCIsImxldmVsTmFtZSI6IkRETyIsInVzZXJJZCI6IjExMDYyOSIsIm9mZmljZUlkIjoiMTQ4MzMiLCJsZXZlbElkIjoiNjQiLCJyb2xlTmFtZSI6IkRETyIsImxldmVsVmFsdWVDb2RlIjoiMTAyMDgwIiwiYWlkIjoiOTkxNTQiLCJ0cmVhc0NvZGUiOiIxODAwIiwiZ3JvdXBzIjpbXX0.kZxNHgfQdnzBW9JBUv91uuIaOx96rNTlKiB2sgLTuY0",landtoken:"0",roleName:"",roleId:"",jwt_token:"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJodHRwOi8vIiwiYXVkIjpudWxsLCJqdGkiOm51bGwsImV4cCI6MTcxNjE5ODkxOCwiaWF0IjoxNzE2MTk3NzE4LCJzdWIiOm51bGwsInVwbiI6bnVsbCwicHJlZmVycmVkX3VzZXJuYW1lIjoiU1NPIFRPS0VOIiwic3NvSWQiOiJSQUpFRVYuQy5LVU1BUiIsImFhZGhhYXJJZCI6IjQ0NDYzMjQ3ODU4MTA5MiIsImdlbmRlciI6Ik1BTEUiLCJkaXNwbGF5TmFtZSI6IlJBSkVFViBLVU1BUiIsImVtcGxveWVlSWQiOiJSSkpQMjAyMjAwMDAwMDE4IiwidXNlclR5cGUiOiJHT1ZUIiwidXNlcklkIjoiMTEwNjI5IiwiZ3JvdXBzIjpbXX0.Zj8ELXrh2NoC3dtjSuIK5yI4SH6dXSmpZstE03k9SZFyR5ubiICek0Sq5kg_yEgU1wmvjoJH9jc8Yz1eG6NA4f3OAGHy2RXWgFfGskQwOuzSaPz7NpMjDFz3B6ALyvW6RqP9gSNmutYyGO629iSspXbLade_kxyrdUQSNzCjtqLoRQl1WFRGY3dOa2hPvPCcWq1YSC6HOlH98E796F9niTdaLmHy8aZbdRfhaWvjR5ibO9vnbenwImTs9OrLhmgfHx_kkaPqoUHoXfT9wzOpsiNJFW9b1X7Uh-u7Qxnv08zXUtCgIgQRgPF8Ir63XaT54DS022UUDXaB35x5K9fzpA"}},{tokenName:"Rajeev (Directrate Treasury and Accounts - HO (1090))",token:{MpJwtToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwOi8vaWZtc3Rlc3QucmFqYXN0aGFuLmdvdi5pbiIsImF1ZCI6InRhcmdldFNlcnZpY2UiLCJqdGkiOiI3NDMzYTc4ZC05OTUyLTRlMGEtOGQ3My01YmEzNWEwODNmMTAiLCJleHAiOjE3MjU2ODA0NDIsImlhdCI6MTcxNTY3OTI0Miwic3ViIjoiSUZNU1RFU1QiLCJ1cG4iOiJJRk1TVEVTVCIsInByZWZlcnJlZF91c2VybmFtZSI6IklGTVMgVE9LRU4iLCJzc29JZCI6IlJBSkVFVi5DLktVTUFSIiwibGV2ZWxWYWx1ZUlkIjpudWxsLCJkaXNwbGF5TmFtZSI6IlJBSkVFViBLVU1BUiIsInJvbGVJZCI6IjQ5IiwiZGVwdElkIjoiMTA1IiwiZW1wbG95ZWVJZCI6IlJKSlAyMDIyMDAwMDAwMTgiLCJsZXZlbE5hbWUiOiJPRkZJQ0UiLCJ1c2VySWQiOiIxMTA2MjkiLCJvZmZpY2VJZCI6IjEwOTAiLCJsZXZlbElkIjoiMSIsInJvbGVOYW1lIjoiSE8iLCJsZXZlbFZhbHVlQ29kZSI6IjEwOTAiLCJhaWQiOiI5NjcxNCIsInRyZWFzQ29kZSI6IjIxMDAiLCJncm91cHMiOltdfQ.-f0iPGTUK1PGwbynpkI1zDuLjs9wGppWXCc9nEMNQt4",landtoken:"0",roleName:"",roleId:"",jwt_token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwOi8vIiwiYXVkIjpudWxsLCJqdGkiOm51bGwsImV4cCI6MTcxNTY3OTg3OSwiaWF0IjoxNzE1Njc4Njc5LCJzdWIiOm51bGwsInVwbiI6bnVsbCwicHJlZmVycmVkX3VzZXJuYW1lIjoiU1NPIFRPS0VOIiwic3NvSWQiOiJSQUpFRVYuQy5LVU1BUiIsImFhZGhhYXJJZCI6IjIxOTE4ODEwMDg0NCIsImdlbmRlciI6Ik1BTEUiLCJkaXNwbGF5TmFtZSI6IlJBSkVFViBLVU1BUiIsImVtcGxveWVlSWQiOiJSSkpQMjAyMjAwMDAwMDE4IiwidXNlclR5cGUiOiJHT1ZUIiwidXNlcklkIjoiMTEwNjI5IiwiZ3JvdXBzIjpbXX0.wKjwsNNf_8zmJAjnhp_2xOMyCXES7D2g3nZux8lU07M"}},{tokenName:"Rajeev (Directrate Treasury and Accounts - HOD (1090))",token:{MpJwtToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwOi8vaWZtc3Rlc3QucmFqYXN0aGFuLmdvdi5pbiIsImF1ZCI6InRhcmdldFNlcnZpY2UiLCJqdGkiOiIyYzg2ZTdjZS00NTAzLTQ4YjYtOWE2NS00OTE0ODkxMzk0MjEiLCJleHAiOjE3OTY1MzE4MDksImlhdCI6MTcxNjUzMDYwOSwic3ViIjoiSUZNU1RFU1QiLCJ1cG4iOiJJRk1TVEVTVCIsInByZWZlcnJlZF91c2VybmFtZSI6IklGTVMgVE9LRU4iLCJzc29JZCI6IlJBSkVFVi5DLktVTUFSIiwibGV2ZWxWYWx1ZUlkIjpudWxsLCJkaXNwbGF5TmFtZSI6IlJBSkVFViBLVU1BUiIsInJvbGVJZCI6IjQ4IiwiZGVwdElkIjoiMTA1IiwiZW1wbG95ZWVJZCI6IlJKSlAyMDIyMDAwMDAwMTgiLCJsZXZlbE5hbWUiOiJEZXB0IiwidXNlcklkIjoiMTEwNjI5Iiwib2ZmaWNlSWQiOiIxMDkwIiwibGV2ZWxJZCI6IjIiLCJyb2xlTmFtZSI6IkhvRCIsImxldmVsVmFsdWVDb2RlIjoiMTA1IiwiYWlkIjoiOTY3OTUiLCJ0cmVhc0NvZGUiOiIyMTAwIiwiZ3JvdXBzIjpbXX0.qkLT6wVqw9SS8gjh3w18d-1uzxUGpT8mvU3R6_2RyBY",landtoken:"0",roleName:"",roleId:"",jwt_token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwOi8vIiwiYXVkIjpudWxsLCJqdGkiOm51bGwsImV4cCI6MTc5NjUzMTc5OCwiaWF0IjoxNzE2NTMwNTk4LCJzdWIiOm51bGwsInVwbiI6bnVsbCwicHJlZmVycmVkX3VzZXJuYW1lIjoiU1NPIFRPS0VOIiwic3NvSWQiOiJSQUpFRVYuQy5LVU1BUiIsImFhZGhhYXJJZCI6IjQ0NDYzMjQ3ODU4MTA5MiIsImdlbmRlciI6Ik1BTEUiLCJkaXNwbGF5TmFtZSI6IlJBSkVFViBLVU1BUiIsImVtcGxveWVlSWQiOiJSSkpQMjAyMjAwMDAwMDE4IiwidXNlclR5cGUiOiJHT1ZUIiwidXNlcklkIjoiMTEwNjI5IiwiZ3JvdXBzIjpbXX0.MHO_dG8CmgP69uvC98ezqQMkHteVzzY3wyC0kx_T56s"}},{tokenName:"Admin (Treasuries and Accounts Department, Jaipur)",token:{MpJwtToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwOi8vaWZtc3Rlc3QucmFqYXN0aGFuLmdvdi5pbiIsImF1ZCI6InRhcmdldFNlcnZpY2UiLCJqdGkiOiJmOTg4NjNmMS0zOTAwLTQ4NWMtYjI4My0zOTBiZmYxN2Q1OGEiLCJleHAiOjE3MjU4MzgwNDksImlhdCI6MTcxNTgzNjg0OSwic3ViIjoiSUZNU1RFU1QiLCJ1cG4iOiJJRk1TVEVTVCIsInByZWZlcnJlZF91c2VybmFtZSI6IklGTVMgVE9LRU4iLCJzc29JZCI6IlJBSkVFVi5DLktVTUFSIiwibGV2ZWxWYWx1ZUlkIjpudWxsLCJkaXNwbGF5TmFtZSI6IlJBSkVFViBLVU1BUiIsInJvbGVJZCI6IjIzIiwiZGVwdElkIjoiMTA1IiwiZW1wbG95ZWVJZCI6IlJKSlAyMDIyMDAwMDAwMTgiLCJsZXZlbE5hbWUiOiJEZXB0IiwidXNlcklkIjoiMTEwNjI5Iiwib2ZmaWNlSWQiOiIxMDkwIiwibGV2ZWxJZCI6IjIiLCJyb2xlTmFtZSI6IkFkbWluIiwibGV2ZWxWYWx1ZUNvZGUiOiIxMDUiLCJhaWQiOiI5Njc5NCIsInRyZWFzQ29kZSI6IjIxMDAiLCJncm91cHMiOltdfQ.z0TDjqhViPgEc2WFXPVmAAE3yb7bo0zXN_tyLedxJ2k",landtoken:"0",roleName:"",roleId:"",jwt_token:"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJodHRwOi8vIiwiYXVkIjpudWxsLCJqdGkiOm51bGwsImV4cCI6MTcxNTgzODA0MSwiaWF0IjoxNzE1ODM2ODQxLCJzdWIiOm51bGwsInVwbiI6bnVsbCwicHJlZmVycmVkX3VzZXJuYW1lIjoiU1NPIFRPS0VOIiwic3NvSWQiOiJSQUpFRVYuQy5LVU1BUiIsImFhZGhhYXJJZCI6IjQ0NDYzMjQ3ODU4MTA5MiIsImdlbmRlciI6Ik1BTEUiLCJkaXNwbGF5TmFtZSI6IlJBSkVFViBLVU1BUiIsImVtcGxveWVlSWQiOiJSSkpQMjAyMjAwMDAwMDE4IiwidXNlclR5cGUiOiJHT1ZUIiwidXNlcklkIjoiMTEwNjI5IiwiZ3JvdXBzIjpbXX0.do_SSGjQfQ3jSjqOlhPV3beC3_wZE2CpXcHFbwywVwJZEmx1rjdv1hf5TRNLZFmK_TmZk4eKXfb4xp4z_geBmgUkxsviXGd4V4BwzrpK9L8PA3EkAEOLdvAFSx3DNw_qM4Ur4b6v8ATN7Lpt9TiMLYTP9-ECed_Jde1_yhEOR4ehryzh_icDK18OpsQrJ-VgsiW1ulxHgod7gir6Aof8LL67vbvGykb1LQ14FZrCEESf_Xna-HfbBkjbhUkYGI1eZoTdCCXAwOZPYrvFKgN8FBV7dshg6ekq7O1WyKLu3P24v3tXf7UdSJQRmGnQy7MHyzAaB9L_IDlHlLBcyhduZA"}},{tokenName:"ESS (Pravek)",token:{landtoken:"1",roleName:"",roleId:"",jwt_token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwOi8vIiwiYXVkIjpudWxsLCJqdGkiOm51bGwsImV4cCI6MTcxNjUyMTM1NiwiaWF0IjoxNzA2NTIwMTU2LCJzdWIiOm51bGwsInVwbiI6bnVsbCwicHJlZmVycmVkX3VzZXJuYW1lIjoiU1NPIFRPS0VOIiwic3NvSWQiOiJQUkFWRUsuVkFOU1dBUiIsImFhZGhhYXJJZCI6IjQ0NDI5ODM0MDg2NDIzMyIsImdlbmRlciI6Ik1BTEUiLCJkaXNwbGF5TmFtZSI6IlBSQVZFSyBWQU5TV0FSIChJTikiLCJlbXBsb3llZUlkIjoiUkpKUDIwMjIwMDAwMDAxMCIsInVzZXJUeXBlIjoiR09WVCIsInVzZXJJZCI6IjU5ODY2IiwiZ3JvdXBzIjpbXX0.HRFFlDhRQBtvb0NMsAxJhQDVnU2WlGwJjcpSRE0olNs"}},{tokenName:"ESS (Rajeev)",token:{landtoken:"1",roleName:"",roleId:"",jwt_token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwOi8vIiwiYXVkIjpudWxsLCJqdGkiOm51bGwsImV4cCI6MTkwNjg4Mzc4MSwiaWF0IjoxNzE4MDg3MzAwLCJzdWIiOm51bGwsInVwbiI6bnVsbCwicHJlZmVycmVkX3VzZXJuYW1lIjoiU1NPIFRPS0VOIiwic3NvSWQiOiJSQUpFRVYuQy5LVU1BUiIsImFhZGhhYXJJZCI6IjIxOTE4ODEwMDg0NCIsImdlbmRlciI6Ik1BTEUiLCJkaXNwbGF5TmFtZSI6IlJBSkVFViBLVU1BUiIsImVtcGxveWVlSWQiOiJSSkpQMjAyMjAwMDAwMDE4IiwidXNlclR5cGUiOiJHT1ZUIiwidXNlcklkIjoiMTEwNjI5IiwiZ3JvdXBzIjpbXX0._aYxxLT8RNi6qjfrbAjUkD6jDLNt3oSDJNMN59l8enQ"}},{tokenName:"TO (2100)",token:{MpJwtToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwOi8vaWZtc3Rlc3QucmFqYXN0aGFuLmdvdi5pbiIsImF1ZCI6InRhcmdldFNlcnZpY2UiLCJqdGkiOiJiNjEyYjU5My1kN2QwLTRiNWMtYjdhNy04YjdhOTJhNzcxMTkiLCJleHAiOjE3MjAzMzYxNTIsImlhdCI6MTcxMDMzNDk1Miwic3ViIjoiSUZNU1RFU1QiLCJ1cG4iOiJJRk1TVEVTVCIsInByZWZlcnJlZF91c2VybmFtZSI6IklGTVMgVE9LRU4iLCJzc29JZCI6IkFOSUwuRC5ZQURBViIsImxldmVsVmFsdWVJZCI6bnVsbCwiZGlzcGxheU5hbWUiOiJBTklMIEtVTUFSIFlBREFWIChJTikiLCJyb2xlSWQiOiI4MiIsImRlcHRJZCI6IjEwNSIsImVtcGxveWVlSWQiOiJSSkpQMjAyMjAwMDAwMDA5IiwibGV2ZWxOYW1lIjoiVHJlYXN1cnkiLCJ1c2VySWQiOiI1OTg2NCIsIm9mZmljZUlkIjoiMTExMCIsImxldmVsSWQiOiI1Iiwicm9sZU5hbWUiOiJUTyIsImxldmVsVmFsdWVDb2RlIjoiMjEwMCIsImFpZCI6Ijk2OTk0IiwidHJlYXNDb2RlIjoiMjEwMCIsImdyb3VwcyI6W119.g7qR3dN-XXG0PLQebXYbklxpdyGi97cgrRQHfcWCRs8",landtoken:"0",roleName:"",roleId:"",jwt_token:"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJpc3MiOiJodHRwOi8vIiwiYXVkIjpudWxsLCJqdGkiOm51bGwsImV4cCI6MTcxMDM0Njc0MywiaWF0IjoxNzEwMzQ1NTQzLCJzdWIiOm51bGwsInVwbiI6bnVsbCwicHJlZmVycmVkX3VzZXJuYW1lIjoiU1NPIFRPS0VOIiwic3NvSWQiOiJBTklMLkQuWUFEQVYiLCJhYWRoYWFySWQiOiI0NDQ1NzI5MTM0NjkyODYiLCJnZW5kZXIiOiJNQUxFIiwiZGlzcGxheU5hbWUiOiJBTklMIEtVTUFSIFlBREFWIChJTikiLCJlbXBsb3llZUlkIjoiUkpKUDIwMjIwMDAwMDAwOSIsInVzZXJUeXBlIjoiR09WVCIsInVzZXJJZCI6IjU5ODY0IiwiZ3JvdXBzIjpbXX0.aEwuN95WQfSSX_6q-bSIMIrnJ-1NvRkbCGLxE-SwqC735lhyk6t0fk_TV-kAK1PPd5Fkuxb2G6sPoafgktS1FhKGIHkKTMQ6hmCuSTN6NPHENLwcdMzhP5GCHnk_uQM1VUy8tiR6JZZ4oUyGZbSy-KbuGG9-6a6cQWXq5o-n4zNg-4iEy2lDC3UXa1JLhYNLsMG4o74tYnHloa4vRFzSTyOgMl7ctbatC2wSABqoWK_3vUiYE_-ACA2KGIKVpos4UHVn6G4NGwIXkUgIQaMsGQ6BCEk3OPIlg52kdRVvAbeUyQyN_Li14aE3sYBfW_bf5YPtABtxIZprOEx3c2xUtA"}}],Wt={production:!1,baseUrlmst:Yt,envType:qt,checkIfSecurityEnv:()=>{},tokenList:$t};var Kt="http://10.68.117.236:8080",zt={"shop-inventory":":8080"},Ht={"shop-inventory":"http://10.68.117.236:8080"},ei=i=>{let t="",e="";return Wt.envType==="DEV"?(Ht[i]&&(t=Ht[i]),zt[i]&&(e=zt[i]),`${t}${e}`):Kt},ze={shopInventory:`${ei("shop-inventory")}/shopInventory/`};var He={saveBrandDetails:`${ze.shopInventory}saveBrandDetails`,saveCategoryDetails:`${ze.shopInventory}saveCategoryDetails`,getCategoryDetails:`${ze.shopInventory}getCategoryDetails`,getBrandDetails:`${ze.shopInventory}getBrandDetails`};var ft=class i{constructor(t){this.http=t}handleError(t){return At(()=>t.error)}post(t,e={},o={}){let r=W({headers:new wt(o.headers||{})},o);return this.http.post(t,e,r).pipe(vt(this.handleError))}get(t,e={},o={}){let r={headers:new wt(o),params:new Gt({fromObject:e})};return this.http.get(t,r).pipe(vt(this.handleError))}static \u0275fac=function(e){return new(e||i)(ot(Qt))};static \u0275prov=it({token:i,factory:i.\u0275fac,providedIn:"root"})};var J=class i{constructor(t){this.http=t}enableMock=!1;product=new Xe;category=new Xe;subCategory=new Xe;brand=new Xe;productCast=this.product.asObservable();categoryCast=this.category.asObservable();subCategoryCast=this.subCategory.asObservable();brandCast=this.brand.asObservable();addProduct(t){this.product.next(t)}addCategory(t){this.category.next(t)}addSubCategory(t){this.subCategory.next(t)}addBrand(t){this.brand.next(t)}saveBrandDetails(t){return this.http.post(He.saveBrandDetails,t)}saveCategoryDetails(t){return this.http.post(He.saveCategoryDetails,t)}getCategoryDetails(t){return this.http.post(He.getCategoryDetails,t)}getBrandDetails(t){return this.http.post(He.getBrandDetails,t)}static \u0275fac=function(e){return new(e||i)(ot(ft))};static \u0275prov=it({token:i,factory:i.\u0275fac,providedIn:"root"})};function ii(i,t){if(i&1){let e=M();a(0,"div",29)(1,"div",30),C("click",function(){u(e);let r=T(6),s=_(2);return g(s.triggerFileUpload(r))}),c(2,"i",31),a(3,"label",32),l(4,"Add Brand Logo"),n()(),a(5,"input",33,2),C("change",function(r){u(e);let s=_(2);return g(s.onFileSelected(r))}),n()()}}function oi(i,t){if(i&1&&c(0,"img",38),i&2){let e=_(3);m("src",e.images[0].src,at)}}function ai(i,t){if(i&1){let e=M();a(0,"div",29)(1,"div",34),f(2,oi,1,1,"img",35),a(3,"div",36)(4,"i",37),C("click",function(){u(e);let r=_(2);return g(r.deleteImage())}),n()()()()}if(i&2){let e=_(2);d(2),m("ngIf",e.images[0])}}function ni(i,t){i&1&&(a(0,"div",20)(1,"mat-form-field",21)(2,"mat-label"),l(3,"Brand Code"),n(),c(4,"input",39),n()())}function ri(i,t){if(i&1&&(a(0,"mat-option",40),l(1),n()),i&2){let e=t.$implicit;m("value",e.value),d(),G(" ",e.status," ")}}function li(i,t){if(i&1){let e=M();a(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"h3"),l(5,"Add Brand"),n(),a(6,"p",8),l(7,"Add details of your brand"),n()(),a(8,"div",9),c(9,"img",10),n()()(),a(10,"form",11),C("ngSubmit",function(){u(e);let r=_();return g(r.onSubmit())}),a(11,"div",12)(12,"mat-accordion",13,0)(14,"mat-expansion-panel",14),C("opened",function(){u(e);let r=_();return g(r.panelOpenState=!0)})("closed",function(){u(e);let r=_();return g(r.panelOpenState=!1)}),a(15,"mat-expansion-panel-header")(16,"mat-panel-title",15),l(17," Brand Information "),n()(),a(18,"div",16)(19,"div",17),f(20,ii,7,0,"div",18)(21,ai,5,1,"div",19),n(),a(22,"div",20)(23,"mat-form-field",21)(24,"mat-label"),l(25,"Brand Name"),n(),c(26,"input",22),n()(),f(27,ni,5,0,"div",20),a(28,"div",20)(29,"mat-form-field",21)(30,"mat-label"),l(31,"Date"),n(),a(32,"input",23),C("focus",function(){u(e);let r=T(34);return g(r.open())}),n()(),c(33,"mat-datepicker",null,1),n(),a(35,"div",20)(36,"mat-form-field",21)(37,"mat-label"),l(38,"Brand Status"),n(),a(39,"mat-select",24),f(40,ri,2,2,"mat-option",25),n()()(),a(41,"mat-form-field",21)(42,"mat-label"),l(43,"Description"),n(),c(44,"textarea",26),n()()()()(),a(45,"div",27)(46,"button",28),l(47,"Submit"),n()()()()}if(i&2){let e=T(34),o=_();d(10),m("formGroup",o.addBrandForm),d(4),m("expanded",!0),d(6),m("ngIf",o.images.length===0),d(),m("ngIf",o.images.length>0),d(6),We(o.selectedBrand?27:-1),d(5),m("matDatepicker",e),d(8),m("ngForOf",o.brandStatusOptions),d(6),m("disabled",!o.isAddBrandFormValid)}}var Ye=class i{dialogRef=y(_e);data=y(be);router=y(K);formBuilder=y(le);inventoryService=y(J);cd=y(R);loader=y(B);accordion;panelOpenState=!1;id;index;selectedBrand;addBrandForm;images=[];brandStatusOptions=[{value:!1,status:"In-Active"},{value:!0,status:"Active"}];constructor(){this.dialogRef.disableClose=!0,this.id=this.data.id,this.selectedBrand=this.data.brand}ngOnInit(){this.initializeForm(),this.setValues()}initializeForm(){this.addBrandForm=this.formBuilder.group({brandName:["",h.required],brandCode:[{value:"",disabled:!0},h.required],createdAt:["",h.required],status:["",h.required],description:["",h.required]})}setValues(){this.id=="edit-brand"&&(this.editBrand(this.selectedBrand),console.log("selectedBrand",this.selectedBrand))}get isAddBrandFormValid(){return this.addBrandForm.valid}generateBrandCode(){let t=this.addBrandForm;if(!t)throw new Error("Form not initialized");let e=t.get("brandName")?.value;if(!e)throw new Error("Form values missing or invalid");e=e.substring(0,3).toUpperCase().padEnd(3,"IN");let o=new Date,r=o.getTime().toString().slice(-6),s=o.toLocaleString("default",{month:"long"}).toUpperCase(),p=s.substring(0,2),j=s.slice(-1),D=`${e}-${p}-${r}-${j}`;t.get("brandCode")?.setValue(D),console.log("Generated Brand Code:",D)}editBrand(t){this.addBrandForm.patchValue(W({},t)),t?.profileImage&&Array.isArray(t?.profileImage)?this.images=t?.profileImage.map(e=>({src:e.src,name:e.name,size:e.size,type:e.type})):this.images=[]}onSubmit(){console.log("addBrandForm Value",this.addBrandForm?.value);let t=this.addBrandForm?.value;this.images.length>0,delete t.brandCode,this.cd.openConfirmModal("Are you sure you want to appove the request?",()=>{this.loader.startLoader(),this.inventoryService.saveBrandDetails(t),this.inventoryService.saveBrandDetails(t).subscribe({next:e=>{this.loader.stopLoader();let o=e.status?`${e.message}`:e.error;e.status?this.cd.openSuccessModal(o):this.cd.openErrorModal(o,"Error")},error:e=>{this.loader.stopLoader(),this.cd.openErrorModal(e.error.description,e.error.code)}})}),this.dialogRef.close({index:this.index===0?this.index:this.index?this.index:""})}getFormValidationErrors(){let t=[];return Object.keys(this.addBrandForm?.controls).forEach(e=>{let o=this.addBrandForm?.get(e)?.errors;o&&Object.keys(o).forEach(r=>{t.push({control:e,error:r,value:o[r]})})}),t}triggerFileUpload(t){t.click()}onFileSelected(t){let e=t.target.files[0],o=e.type.toLowerCase();if(e){if(o!=="image/jpeg"&&o!=="image/jpg"){alert("Only JPG or JPEG file format is allowed."),t.target.value=null;return}let r=new FileReader;r.onload=s=>{let p=s.target.result;console.log("Base64 Image:",p),this.images=[],this.images.push({src:p,name:e.name,size:(e.size/1024).toFixed(2),type:e.type})},r.readAsDataURL(e)}t.target.value=""}deleteImage(){this.images=[]}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=V({type:i,selectors:[["app-create-brand-dialog"]],viewQuery:function(e,o){if(e&1&&v(E,5),e&2){let r;x(r=w())&&(o.accordion=r.first)}},decls:1,vars:1,consts:[["accordion","matAccordion"],["picker",""],["fileInput",""],["class","common-dialog-modal",4,"ngIf"],[1,"common-dialog-modal"],[1,"section-card","rounded","p-2"],[1,"d-flex","align-items-start","justify-content-between"],[1,"p-2"],[1,"f-12","medium-font"],["mat-dialog-close",""],["src","./assets/images/dialogIcons/cross.svg","alt",""],[3,"ngSubmit","formGroup"],[1,"common-custom-expansion","content-height","mt-2"],["multi","",1,"example-headers-align"],[3,"opened","closed","expanded"],[1,""],[1,"row"],[1,"d-flex","m-0","mb-4"],["class"," d-flex flex-column align-items-start file-uploader-container",4,"ngIf"],["class","d-flex flex-column align-items-start file-uploader-container",4,"ngIf"],[1,"col-lg-6","col-xl-6"],["appearance","outline","color","primary",1,"w-100"],["matInput","","formControlName","brandName"],["matInput","","readonly","","formControlName","createdAt",3,"focus","matDatepicker"],["formControlName","status"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","description"],[1,"d-flex","justify-content-end","align-items-center","py-2"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[1,"d-flex","flex-column","align-items-start","file-uploader-container"],[1,"d-flex","flex-column","align-items-center","justify-content-center","upload-lable-text","btn",3,"click"],[1,"bi","bi-plus-square"],["for","inputGroupFile"],["type","file","accept",".jpg, .jpeg","hidden","",1,"form-control","file-upload-input","hidden",3,"change"],[1,"upload-lable-text","btn"],["alt","Image Preview","class","image-preview",3,"src",4,"ngIf"],[1,"text-end","delete-container"],[1,"bi","bi-x","delete-icon",3,"click"],["alt","Image Preview",1,"image-preview",3,"src"],["matInput","","formControlName","brandCode"],[3,"value"]],template:function(e,o){e&1&&f(0,li,48,8,"div",3),e&2&&m("ngIf",o.id=="add-brand"||o.id=="edit-brand")},dependencies:[N,Y,q,O,ae,te,ie,oe,U,ee,me,ce,Ie,E,ge,fe,Ce,A,P,Z,pe,ne,re,se],styles:[".cat-code-input[_ngcontent-%COMP%]{padding-right:120px}.create-cat-code-button[_ngcontent-%COMP%]{position:absolute;top:50%;right:-16px;transform:translateY(-50%);height:100%;line-height:1;z-index:2;border-radius:0 2px 2px 0}"]})};var di=(i,t)=>({"status-button-active":i,"status-button-inactive":t});function si(i,t){if(i&1&&(a(0,"th",5),l(1),n()),i&2){let e=_(2).$implicit;d(),b(e.header)}}function mi(i,t){i&1&&f(0,si,2,1,"th",8)}function ci(i,t){if(i&1&&(a(0,"th",6),l(1),n()),i&2){let e=_(2).$implicit;d(),b(e.header)}}function pi(i,t){i&1&&f(0,ci,2,1,"th",9)}function ui(i,t){if(i&1&&(a(0,"td",7)(1,"p",11),l(2),n()()),i&2){let e=t.index;d(2),b(e+1)}}function gi(i,t){i&1&&f(0,ui,3,1,"td",10)}function fi(i,t){if(i&1){let e=M();a(0,"td",7)(1,"div",12)(2,"img",13),C("click",function(){let r=u(e).$implicit,s=_(3);return g(s.onEdit(r))}),n(),a(3,"img",14),C("click",function(){let r=u(e).index,s=_(3);return g(s.onDelete(r))}),n()()()}}function Ci(i,t){i&1&&f(0,fi,4,0,"td",10)}function yi(i,t){if(i&1&&(a(0,"td",7)(1,"p",15),l(2),n()()),i&2){let e=t.$implicit,o=_(2).$implicit;d(),m("ngClass",Re(2,di,e[o.field]=="1",e[o.field]=="0")),d(),b(e[o.field]=="1"?"Active":"InActive")}}function _i(i,t){i&1&&f(0,yi,3,5,"td",10)}function bi(i,t){if(i&1&&(a(0,"td",7)(1,"p",11),l(2),H(3,"date"),n()()),i&2){let e=t.$implicit,o=_(2).$implicit;d(2),b(o.type=="date"?Be(3,1,e[o.field],"dd/MM/yyyy"):e[o.field])}}function hi(i,t){i&1&&f(0,bi,4,4,"td",10)}function Ii(i,t){if(i&1&&(I(0,1),f(1,mi,1,0,"th",5)(2,pi,1,0,"th",6)(3,gi,1,0,"td",7)(4,Ci,1,0,"td",7)(5,_i,1,0,"td",7)(6,hi,1,0,"td",7),S()),i&2){let e=t.$implicit;m("matColumnDef",e.field),d(),We(e.field=="action"?1:2),d(2),We(e.field=="srNo"?3:e.field=="action"?4:e.field=="status"?5:6)}}function Si(i,t){i&1&&c(0,"tr",16)}function vi(i,t){i&1&&c(0,"tr",17)}function xi(i,t){i&1&&(a(0,"tr",18)(1,"td",19),l(2,"No data matching the filter"),n()())}var Ct=class i{paginator;sort;dataSource=new Q;displayedColumns=[];columnDefs=[];editEvent=new xt;deleteEvent=new xt;ngAfterViewInit(){this.dataSource&&(this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,console.log("Sort initialized:",this.dataSource.sort))}onEdit(t){console.log("Edit row",t),this.editEvent.emit(t)}onDelete(t){this.deleteEvent.emit(t)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=V({type:i,selectors:[["app-generic-table"]],viewQuery:function(e,o){if(e&1&&(v(k,5),v(F,5)),e&2){let r;x(r=w())&&(o.paginator=r.first),x(r=w())&&(o.sort=r.first)}},inputs:{dataSource:"dataSource",displayedColumns:"displayedColumns",columnDefs:"columnDefs"},outputs:{editEvent:"editEvent",deleteEvent:"deleteEvent"},decls:6,vars:3,consts:[["mat-table","","matSort","","matSortDirection","desc","mat-table-auto-rows","",3,"dataSource"],[3,"matColumnDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["mat-header-cell","","mat-sort-header","",1,"sticky-action-column"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","","class","sticky-action-column",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],[1,"m-0"],[1,"d-flex","justify-content-center","align-items-center","gap-2"],["src","./assets/icons/dwnld_icons/icon_edit.svg","alt","edit-icon",1,"action-icon",3,"click"],["src","./assets/icons/dwnld_icons/icon_delete.svg","alt","delete-icon",1,"action-icon",3,"click"],[1,"m-0",3,"ngClass"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","100%",1,"mat-cell"]],template:function(e,o){e&1&&(a(0,"table",0),Zt(1,Ii,7,3,"ng-container",1,Ut),f(3,Si,1,0,"tr",2)(4,vi,1,0,"tr",3)(5,xi,3,0,"tr",4),n()),e&2&&(m("dataSource",o.dataSource),d(),Rt(o.columnDefs),d(2),m("matHeaderRowDef",o.displayedColumns),d(),m("matRowDefColumns",o.displayedColumns))},dependencies:[N,Le,$,O,F,Se,ve,we,Ve,De,xe,Te,Me,Ee,Ne,ke,Fe],styles:[".status-button-active[_ngcontent-%COMP%]{display:inline-block;padding:5px 14px;background-color:#eaf8f5;color:#5ec0a3;border-radius:5px}.status-button-inactive[_ngcontent-%COMP%]{display:inline-block;padding:5px 8px;background-color:#fee;color:#fc635d;border-radius:5px}"]})};var Mi=()=>[5,15,25,50,100],yt=class i{accordion;paginator;sort;brandsDataSource=new Q;brandsDisplayedColumns=["srNo","brandName","brandCode","createdAt","status","action"];panelOpenState=!1;brandsData=[];isHovered=!1;productColumnDefs=[{header:"Sr. No.",field:"srNo"},{header:"Brand Name",field:"brandName"},{header:"Brand Code",field:"brandCode"},{header:"Status",field:"status"},{header:"Created",field:"createdAt",type:"date"},{header:"Action",field:"action"}];dialog=y(he);inventoryService=y(J);loader=y(B);cd=y(R);constructor(){}ngOnInit(){this.setValues()}ngAfterViewInit(){this.brandsDataSource.paginator=this.paginator,this.brandsDataSource.sort=this.sort}filterApply(t){let e=t.target.value;this.brandsDataSource.filter=e.trim().toLocaleLowerCase()}setValues(){this.getBrandDetails()}getBrandDetails(t){let e={categoryId:t};this.loader.startLoader(),this.inventoryService.getBrandDetails(e).subscribe({next:o=>{this.loader.stopLoader(),console.log("Data",o?.data),Array.isArray(o?.data)?this.brandsData=o?.data:this.brandsData.some(s=>s.brandCode==o?.data.brandCode)||this.brandsData.push(o?.data),console.log("brandsData",this.brandsData),console.log("brandsDataSource",this.brandsDataSource.data),this.brandsDataSource.data=[...this.brandsData]},error:o=>{this.loader.stopLoader(),this.cd.openErrorModal("CONNECTION_TIME_OUT","Error")}})}addBrand(t){this.dialog.open(Ye,{panelClass:"medium-dialog",autoFocus:!1,data:{id:t}}).afterClosed().subscribe(o=>{this.inventoryService?.brandCast?.pipe(L()).subscribe(r=>{console.log("Data",r),Array.isArray(r)?this.brandsData=r:this.brandsData.some(p=>p.brandCode==r.brandCode)||this.brandsData.push(r),console.log("brandsData",this.brandsData),console.log("brandsDataSource",this.brandsDataSource.data),this.loader.stopLoader(),this.brandsDataSource.data=[...this.brandsData],console.log("brandsDataSource after",this.brandsDataSource.data)})})}editBrand(t,e){let o=t;console.log("data",t),this.dialog.open(Ye,{panelClass:"medium-dialog",autoFocus:!1,data:{id:e,brand:o}}).afterClosed().subscribe(s=>{this.inventoryService?.brandCast?.pipe(L()).subscribe(p=>{this.brandsData[s.index]=p,this.brandsDataSource.data=[...this.brandsData],this.brandsDataSource._updateChangeSubscription(),this.loader.stopLoader()})})}deleteBrand(t){this.cd.openConfirmModal("Are you sure you want to delete this brand?",()=>{this.brandsData.splice(t,1),this.brandsDataSource.data=[...this.brandsData],this.brandsDataSource._updateChangeSubscription()})}openSuccessDialog(){}onHover(t){this.isHovered=t}pdfDownload(){let t=new dt,e=["Sr. No.","Brand","Brand Code","Created","Status"],o=this.brandsDataSource.data.map((r,s)=>[s+1,r.brandName,r.brandCode,r.supplierAddDate,r.brandStatus==="1"?"Active":"Inactive"]);st(t,{head:[e],body:o}),t.save("Brands.pdf")}excelDownload(){let t=Oe.json_to_sheet(this.brandsDataSource.data),e=Oe.book_new();Oe.book_append_sheet(e,t,"Brands"),mt(e,"Brands.xlsx")}print(){let t=document.querySelector(".brand-table-container")?.innerHTML,e=window.open("","","width=800,height=600");e&&t&&(e.document.write(`<html><head><title>Print</title></head><body>${t}</body></html>`),e.document.close(),e.print())}onEditProduct(t){console.log("Edit product",t),this.editBrand(t,"edit-brand")}onDeleteProduct(t){console.log("Delete product",t),this.deleteBrand(t)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=V({type:i,selectors:[["app-brands"]],viewQuery:function(e,o){if(e&1&&(v(E,5),v(k,5),v(F,5)),e&2){let r;x(r=w())&&(o.accordion=r.first),x(r=w())&&(o.paginator=r.first),x(r=w())&&(o.sort=r.first)}},decls:45,vars:8,consts:[["input",""],["languageMenu","matMenu"],[1,"cardWithShadow","p-3"],[1,"section-card","rounded","p-3"],[1,"d-flex","align-items-center","justify-content-between"],[1,"p-2"],[1,"f-16","medium-font"],[1,"breadcrumb-icon"],["src","/assets/images/brands.png","alt","breadcrumb"],[1,"brand-table-container"],[1,"d-flex","flex-wrap","align-items-center","justify-content-between","mt-3"],[1,"col-12","col-md-6","col-lg-6","col-xl-6","mb-2"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Search Parent Category, Sub Category, Sub Category Code etc",3,"keyup"],["matSuffix","",1,"search-icon-color"],[1,"d-flex","flex-wrap","justify-content-md-end"],["mat-raised-button","","color","primary",1,"hover-rotate","mx-1","my-1",3,"click"],[1,"bi","bi-plus","f-20","icon"],[1,"text"],["mat-raised-button","","color","primary",1,"mx-1","my-1",3,"matMenuTriggerFor"],[1,"bi","bi-three-dots-vertical"],["xPosition","before",1,"p-2"],["mat-menu-item","",1,"menu-items",3,"click"],[1,"bi","bi-filetype-pdf","f-20","text-danger","me-2"],[1,"bi","bi-filetype-xls","f-20","text-success","me-2"],[1,"bi","bi-printer","f-20","text-primary","me-2"],[1,"common-custom-expansion","my-3"],[1,""],[3,"editEvent","deleteEvent","dataSource","displayedColumns","columnDefs"],[3,"length","pageSize","pageSizeOptions"]],template:function(e,o){if(e&1){let r=M();a(0,"mat-card",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h1"),l(5,"Brands"),n(),a(6,"p",6),l(7,"Manage your brands"),n()(),a(8,"div",7),c(9,"img",8),n()()(),a(10,"div",9)(11,"div",10)(12,"div",11)(13,"mat-form-field",12)(14,"mat-label"),l(15,"Search"),n(),a(16,"input",13,0),C("keyup",function(p){return u(r),g(o.filterApply(p))}),n(),a(18,"mat-icon",14),l(19,"search"),n()()(),a(20,"div",15)(21,"button",16),C("click",function(){return u(r),g(o.addBrand("add-brand"))}),c(22,"i",17),a(23,"span",18),l(24,"Add Brand"),n()(),a(25,"button",19),c(26,"i",20),n(),a(27,"mat-menu",21,1)(29,"button",22),C("click",function(){return u(r),g(o.pdfDownload())}),c(30,"i",23),a(31,"span"),l(32," Export PDF"),n()(),a(33,"button",22),C("click",function(){return u(r),g(o.excelDownload())}),c(34,"i",24),a(35,"span"),l(36," Export XLS"),n()(),a(37,"button",22),C("click",function(){return u(r),g(o.print())}),c(38,"i",25),a(39,"span"),l(40," Print"),n()()()()(),a(41,"div",26)(42,"div",27)(43,"app-generic-table",28),C("editEvent",function(p){return u(r),g(o.onEditProduct(p))})("deleteEvent",function(p){return u(r),g(o.onDeleteProduct(p))}),n()(),c(44,"mat-paginator",29),n()()()}if(e&2){let r=T(28);d(25),m("matMenuTriggerFor",r),d(18),m("dataSource",o.brandsDataSource)("displayedColumns",o.brandsDisplayedColumns)("columnDefs",o.productColumnDefs),d(),m("length",100)("pageSize",5)("pageSizeOptions",z(7,Mi))}},dependencies:[N,O,U,ue,A,P,de,ye,Z,rt,nt,lt,k,Ct],styles:[".brand-table-container[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper.mat-mdc-form-field-bottom-align{display:none!important}.menu-items[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.menu-items[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.hover-rotate[_ngcontent-%COMP%]{position:relative}.hover-rotate[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:inline-block;transition:transform 1s ease-in-out}.hover-rotate[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:none}.hover-rotate[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.hover-rotate[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{display:inline-block}"]})};function Ei(i,t){if(i&1&&(a(0,"mat-option",29),l(1),n()),i&2){let e=t.$implicit;m("value",e.value),d(),G(" ",e.status," ")}}function Vi(i,t){if(i&1){let e=M();a(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h3"),l(5,"Add Category"),n(),a(6,"p",7),l(7,"Add details of your category"),n()(),a(8,"div",8),c(9,"img",9),n()()(),a(10,"form",10),C("ngSubmit",function(){u(e);let r=_();return g(r.onSubmit())}),a(11,"div",11)(12,"mat-accordion",12,0)(14,"mat-expansion-panel",13),C("opened",function(){u(e);let r=_();return g(r.panelOpenState=!0)})("closed",function(){u(e);let r=_();return g(r.panelOpenState=!1)}),a(15,"mat-expansion-panel-header")(16,"mat-panel-title",14),l(17," Category Information "),n()(),a(18,"div",15)(19,"div",16)(20,"mat-form-field",17)(21,"mat-label"),l(22,"Category Name"),n(),c(23,"input",18),n()(),a(24,"div",16)(25,"mat-form-field",17)(26,"mat-label"),l(27,"Date"),n(),a(28,"input",19),C("focus",function(){u(e);let r=T(30);return g(r.open())}),n()(),c(29,"mat-datepicker",null,1),n(),a(31,"div",16)(32,"mat-form-field",17)(33,"mat-label"),l(34,"Category Status"),n(),a(35,"mat-select",20),f(36,Ei,2,2,"mat-option",21),n()()(),a(37,"div",16)(38,"div",22)(39,"mat-form-field",23)(40,"mat-label"),l(41,"Category Code"),n(),c(42,"input",24),a(43,"button",25),C("click",function(){u(e);let r=_();return g(r.generateCategoryCode())}),l(44,"Create Code"),n()()()(),a(45,"mat-form-field",17)(46,"mat-label"),l(47,"Description"),n(),c(48,"textarea",26),n()()()()(),a(49,"div",27)(50,"button",28),l(51,"Submit"),n()()()()}if(i&2){let e=T(30),o=_();d(10),m("formGroup",o.addCategoryForm),d(4),m("expanded",!0),d(14),m("matDatepicker",e),d(8),m("ngForOf",o.categoryStatusOptions),d(14),m("disabled",!o.isAddCategoryFormValid)}}var qe=class i{dialogRef=y(_e);data=y(be);router=y(K);formBuilder=y(le);inventoryService=y(J);cd=y(R);loader=y(B);accordion;panelOpenState=!1;id;index;selectedCategory;addCategoryForm;images=[];productCategoriesData=[];categoryStatusOptions=[{value:"0",status:"In-Active"},{value:"1",status:"Active"}];constructor(){this.dialogRef.disableClose=!0,this.id=this.data.id,this.index=this.data.index,this.selectedCategory=this.data.category}ngOnInit(){this.initializeForm(),this.setValues()}initializeForm(){this.addCategoryForm=this.formBuilder.group({categoryName:["",h.required],categoryCode:["",h.required],categoryAddDate:["",h.required],categoryStatus:["",h.required],categoryDescription:["",h.required]})}setValues(){this.id=="edit-category"&&(this.editCategory(this.selectedCategory),console.log("index",this.index))}get isAddCategoryFormValid(){return this.addCategoryForm.valid}generateCategoryCode(){let t=this.addCategoryForm;if(!t)throw new Error("Form not initialized");let e=t.get("categoryName")?.value;if(!e)throw new Error("Form values missing or invalid");e=e.substring(0,3).toUpperCase().padEnd(3,"IN");let o=new Date,r=o.getTime().toString().slice(-6),s=o.toLocaleString("default",{month:"long"}).toUpperCase(),p=s.substring(0,2),j=s.slice(-1),D=`${e}-${p}-${r}-${j}`;t.get("categoryCode")?.setValue(D),console.log("Generated Category Code:",D)}editCategory(t){this.addCategoryForm.patchValue({categoryName:t?.categoryName,categoryCode:t?.categoryCode,categoryAddDate:t?.categoryAddDate,categoryStatus:t?.categoryStatus,categoryDescription:t?.categoryDescription})}onSubmit2(){console.log("addCategoryForm Value",this.addCategoryForm?.value);let t=this.addCategoryForm?.value;this.cd.openConfirmModal("Are you sure you want to appove the request?",()=>{this.loader.startLoader(),this.inventoryService.addCategory(t)}),this.dialogRef.close({index:this.index===0?this.index:this.index?this.index:""})}onSubmit(){console.log("addCategoryForm Value",this.addCategoryForm?.value);let t=this.addCategoryForm?.value;this.cd.openConfirmModal("Are you sure you want to create this category?",()=>{this.loader.startLoader(),this.inventoryService.saveCategoryDetails(t).subscribe({next:e=>{this.loader.stopLoader();let o=e.status?`${e.message} and created category id is ${e?.data?.categoryId}`:e.error;e.status?this.cd.openSuccessModal(o):this.cd.openErrorModal(o,"Error")},error:e=>{this.loader.stopLoader(),this.cd.openErrorModal(e.error.description,e.error.code)}})}),this.dialogRef.close({index:this.index===0?this.index:this.index?this.index:""})}getFormValidationErrors(){let t=[];return Object.keys(this.addCategoryForm?.controls).forEach(e=>{let o=this.addCategoryForm?.get(e)?.errors;o&&Object.keys(o).forEach(r=>{t.push({control:e,error:r,value:o[r]})})}),t}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=V({type:i,selectors:[["app-create-category-dialog"]],viewQuery:function(e,o){if(e&1&&v(E,5),e&2){let r;x(r=w())&&(o.accordion=r.first)}},decls:1,vars:1,consts:[["accordion","matAccordion"],["picker",""],["class","common-dialog-modal",4,"ngIf"],[1,"common-dialog-modal"],[1,"section-card","rounded","p-2"],[1,"d-flex","align-items-start","justify-content-between"],[1,"p-2"],[1,"f-12","medium-font"],["mat-dialog-close",""],["src","./assets/images/dialogIcons/cross.svg","alt",""],[3,"ngSubmit","formGroup"],[1,"common-custom-expansion","content-height","mt-2"],["multi","",1,"example-headers-align"],[3,"opened","closed","expanded"],[1,""],[1,"row"],[1,"col-lg-6","col-xl-6"],["appearance","outline","color","primary",1,"w-100"],["matInput","","formControlName","categoryName"],["matInput","","readonly","","formControlName","categoryAddDate",3,"focus","matDatepicker"],["formControlName","categoryStatus"],[3,"value",4,"ngFor","ngForOf"],[1,"category-code-mat-form-field"],["appearance","outline","color","primary",1,"w-100","rounded-end-0","relative-field"],["type","text","matInput","","placeholder","Generate Category Code","formControlName","categoryCode",1,"cat-code-input"],["type","button","mat-raised-button","","color","primary",1,"create-cat-code-button",3,"click"],["matInput","","formControlName","categoryDescription"],[1,"d-flex","justify-content-end","align-items-center","py-2"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[3,"value"]],template:function(e,o){e&1&&f(0,Vi,52,5,"div",2),e&2&&m("ngIf",o.id=="add-category"||o.id=="edit-category")},dependencies:[N,Y,q,O,ae,te,ie,oe,U,ee,me,ce,Ie,E,ge,fe,Ce,A,P,Z,pe,ne,re,se],styles:[".cat-code-input[_ngcontent-%COMP%]{padding-right:120px}.create-cat-code-button[_ngcontent-%COMP%]{position:absolute;top:50%;right:-16px;transform:translateY(-50%);height:100%;line-height:1;z-index:2;border-radius:0 2px 2px 0}"]})};var Ti=()=>[5,15,25,50,100],Ni=(i,t)=>({"status-button-active":i,"status-button-inactive":t});function ki(i,t){i&1&&(a(0,"th",37),l(1,"Sr. No."),n())}function Fi(i,t){if(i&1&&(a(0,"td",38)(1,"p",39),l(2),n()()),i&2){let e=t.index;d(2),b(e+1)}}function Oi(i,t){i&1&&(a(0,"th",37),l(1,"Category"),n())}function Ji(i,t){if(i&1&&(a(0,"td",38)(1,"p",39),l(2),n()()),i&2){let e=t.$implicit;d(2),b(e.categoryName)}}function ji(i,t){i&1&&(a(0,"th",37),l(1,"Category Code"),n())}function Pi(i,t){if(i&1&&(a(0,"td",38)(1,"p",39),l(2),n()()),i&2){let e=t.$implicit;d(2),b(e.categoryCode)}}function Ai(i,t){i&1&&(a(0,"th",40),l(1,"Created"),n())}function Ui(i,t){if(i&1&&(a(0,"td",38)(1,"p",39),l(2),H(3,"date"),n()()),i&2){let e=t.$implicit;d(2),b(Be(3,1,e.categoryAddDate,"dd/MM/yyyy"))}}function Zi(i,t){i&1&&(a(0,"th",40),l(1,"Status"),n())}function Ri(i,t){if(i&1&&(a(0,"td",38)(1,"span",41),l(2),n()()),i&2){let e=t.$implicit;d(),m("ngClass",Re(2,Ni,e.categoryStatus=="1",e.categoryStatus=="0")),d(),G(" ",e.categoryStatus=="1"?"Active":"InActive"," ")}}function Bi(i,t){i&1&&(a(0,"th",42),l(1,"Action"),n())}function Li(i,t){if(i&1){let e=M();a(0,"td",38)(1,"img",43),C("click",function(){let r=u(e).index,s=_();return g(s.editCategory(r,"edit-category"))}),n(),a(2,"img",44),C("click",function(){let r=u(e).index,s=_();return g(s.deleteCategory(r))}),n()()}}function Gi(i,t){i&1&&c(0,"tr",45)}function Qi(i,t){i&1&&c(0,"tr",46)}function Xi(i,t){i&1&&(a(0,"tr",47)(1,"td",48),l(2,"No data matching the filter"),n()())}var _t=class i{accordion;paginator;sort;categoriesDataSource=new Q;categoriesDisplayedColumns=["srNo","categoryName","categoryCode","created","status","action"];panelOpenState=!1;categoriesData=[];dialog=y(he);inventoryService=y(J);loader=y(B);cd=y(R);ngOnInit(){}ngAfterViewInit(){this.categoriesDataSource.paginator=this.paginator,this.categoriesDataSource.sort=this.sort}filterApply(t){let e=t.target.value;this.categoriesDataSource.filter=e.trim().toLocaleLowerCase()}setValues(){this.getCategoryDetails()}getCategoryDetails(t){let e={categoryId:t};this.loader.startLoader(),this.inventoryService.getCategoryDetails(e).subscribe({next:o=>{this.loader.stopLoader(),console.log("Data",o?.data),Array.isArray(o?.data)?this.categoriesData=o?.data:this.categoriesData.some(s=>s.categoryCode==o?.data.categoryCode)||this.categoriesData.push(o?.data),console.log("categoriesData",this.categoriesData),console.log("categoriesDataSource",this.categoriesDataSource.data),this.categoriesDataSource.data=[...this.categoriesData]},error:o=>{this.loader.stopLoader(),this.cd.openErrorModal("CONNECTION_TIME_OUT","Error")}})}addCategory(t){this.dialog.open(qe,{panelClass:"medium-dialog",autoFocus:!1,data:{id:t}}).afterClosed().subscribe(o=>{console.log("Datares",o),this.getCategoryDetails()})}editCategory(t,e){let o=this.categoriesData[t];this.dialog.open(qe,{panelClass:"medium-dialog",autoFocus:!1,data:{id:e,category:o,index:t}}).afterClosed().subscribe(s=>{this.inventoryService?.categoryCast?.pipe(L()).subscribe(p=>{this.categoriesData=[],Array.isArray(p)?this.categoriesData=p:this.categoriesData.some(D=>D.categoryCode==p.categoryCode)||this.categoriesData.push(p),this.categoriesDataSource.data[s.index]=p,this.categoriesDataSource._updateChangeSubscription(),this.loader.stopLoader(),this.cd.openSuccessModal("Successful !")})})}deleteCategory(t){this.cd.openConfirmModal("Are you sure you want to delete this category?",()=>{this.categoriesData.splice(t,1),this.categoriesDataSource.data=[...this.categoriesData],this.categoriesDataSource._updateChangeSubscription()})}openSuccessDialog(){}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=V({type:i,selectors:[["app-categories"]],viewQuery:function(e,o){if(e&1&&(v(E,5),v(k,5),v(F,5)),e&2){let r;x(r=w())&&(o.accordion=r.first),x(r=w())&&(o.paginator=r.first),x(r=w())&&(o.sort=r.first)}},decls:54,vars:7,consts:[["input",""],[1,"cardWithShadow","p-3"],[1,"section-card","rounded","p-3"],[1,"d-flex","align-items-center","justify-content-between"],[1,"p-2"],[1,"f-16","medium-font"],[1,"breadcrumb-icon"],["src","/assets/images/categories.svg","alt","breadcrumb"],[1,"category-table-container"],[1,"d-flex","flex-wrap","align-items-center","justify-content-between","mt-3"],[1,"col-12","col-md-6","col-lg-6","col-xl-6","mb-2"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Search Parent Category, Sub Category, Sub Category Code etc",3,"keyup"],["matSuffix","",1,"search-icon-color"],[1,"d-flex","flex-wrap","justify-content-md-end"],["mat-raised-button","",1,"mx-1","my-1"],[1,"bi","bi-filetype-pdf","f-20","text-danger"],[1,"bi","bi-filetype-xls","f-20","text-success"],[1,"bi","bi-printer","f-20","text-primary"],["mat-raised-button","","color","primary",1,"mx-1","my-1",3,"click"],[1,"common-custom-expansion","my-3"],[1,""],["mat-table","","matSort","","matSortDirection","desc","mat-table-auto-rows","",1,"",3,"dataSource"],["matColumnDef","srNo"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","categoryName"],["matColumnDef","categoryCode"],["matColumnDef","created"],["mat-header-cell","","mat-sort-header","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-cell","","mat-sort-header","","class","sticky-action-column",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"m-0"],["mat-header-cell","","mat-sort-header","","mat-sort-header",""],[3,"ngClass"],["mat-header-cell","","mat-sort-header","",1,"sticky-action-column"],["src","./assets/icons/dwnld_icons/icon_edit.svg","alt","edit-icon",1,"action-icon",3,"click"],["src","./assets/icons/dwnld_icons/icon_delete.svg","alt","delete-icon",1,"action-icon","ms-2",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,o){if(e&1){let r=M();a(0,"mat-card",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h1"),l(5,"Categories"),n(),a(6,"p",5),l(7,"Manage your categories"),n()(),a(8,"div",6),c(9,"img",7),n()()(),a(10,"div",8)(11,"div",9)(12,"div",10)(13,"mat-form-field",11)(14,"mat-label"),l(15,"Search"),n(),a(16,"input",12,0),C("keyup",function(p){return u(r),g(o.filterApply(p))}),n(),a(18,"mat-icon",13),l(19,"search"),n()()(),a(20,"div",14)(21,"button",15),c(22,"i",16),n(),a(23,"button",15),c(24,"i",17),n(),a(25,"button",15),c(26,"i",18),n(),a(27,"button",19),C("click",function(){return u(r),g(o.addCategory("add-category"))}),l(28,"Add Category"),n()()(),a(29,"div",20)(30,"div",21)(31,"table",22),I(32,23),f(33,ki,2,0,"th",24)(34,Fi,3,1,"td",25),S(),I(35,26),f(36,Oi,2,0,"th",24)(37,Ji,3,1,"td",25),S(),I(38,27),f(39,ji,2,0,"th",24)(40,Pi,3,1,"td",25),S(),I(41,28),f(42,Ai,2,0,"th",29)(43,Ui,4,4,"td",25),S(),I(44,30),f(45,Zi,2,0,"th",29)(46,Ri,3,5,"td",25),S(),I(47,31),f(48,Bi,2,0,"th",32)(49,Li,3,0,"td",25),S(),f(50,Gi,1,0,"tr",33)(51,Qi,1,0,"tr",34)(52,Xi,3,0,"tr",35),n()(),c(53,"mat-paginator",36),n()()()}e&2&&(d(31),m("dataSource",o.categoriesDataSource),d(19),m("matHeaderRowDef",o.categoriesDisplayedColumns),d(),m("matRowDefColumns",o.categoriesDisplayedColumns),d(2),m("length",100)("pageSize",5)("pageSizeOptions",z(6,Ti)))},dependencies:[N,Le,$,O,U,ue,A,P,de,ye,Z,k,F,Se,ve,we,Ve,De,xe,Te,Me,Ee,Ne,ke,Fe],styles:[".category-table-container[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper.mat-mdc-form-field-bottom-align{display:none!important}.status-button-active[_ngcontent-%COMP%]{display:inline-block;padding:5px 14px;background-color:#eaf8f5;color:#5ec0a3;border-radius:5px}.status-button-inactive[_ngcontent-%COMP%]{display:inline-block;padding:5px 8px;background-color:#fee;color:#fc635d;border-radius:5px}"]})};function Wi(i,t){if(i&1&&(a(0,"mat-option",44),l(1),n()),i&2){let e=t.$implicit;Ze("value",e.value),d(),b(e.productTypeName)}}function zi(i,t){if(i&1&&(a(0,"mat-option",44),l(1),n()),i&2){let e=t.$implicit;Ze("value",e.productCategoryId),d(),b(e.productCategoryName)}}function Hi(i,t){if(i&1&&(a(0,"mat-option",44),l(1),n()),i&2){let e=t.$implicit;Ze("value",e.productCategoryId),d(),b(e.productCategoryName)}}function Yi(i,t){if(i&1&&(a(0,"mat-option",44),l(1),n()),i&2){let e=t.$implicit;Ze("value",e.brandId),d(),Bt("",e.brandName," (",e.brandCode,")")}}function qi(i,t){if(i&1&&(a(0,"mat-option",44),l(1),n()),i&2){let e=t.$implicit;Ze("value",e.value),d(),b(e.unitName)}}function $i(i,t){if(i&1&&c(0,"img",49),i&2){let e=_().$implicit;m("src",e.src,at)}}function Ki(i,t){if(i&1){let e=M();a(0,"div",36)(1,"div",45),f(2,$i,1,1,"img",46),a(3,"div",47)(4,"i",48),C("click",function(){let r=u(e).index,s=_(2);return g(s.deleteImage(r))}),n()()()()}if(i&2){let e=t.$implicit;d(2),m("ngIf",e)}}function eo(i,t){if(i&1){let e=M();a(0,"div",4)(1,"div",5)(2,"div",6)(3,"div")(4,"h1",7),l(5,"Add Product"),n(),a(6,"p",8),l(7,"Add details of your products"),n()(),a(8,"div",9),c(9,"i",10),n()()(),a(10,"form",11),C("ngSubmit",function(){u(e);let r=_();return g(r.onSubmit())}),a(11,"div",12)(12,"mat-accordion",13,0)(14,"mat-expansion-panel",14),C("opened",function(){u(e);let r=_();return g(r.panelOpenState=!0)})("closed",function(){u(e);let r=_();return g(r.panelOpenState=!1)}),a(15,"mat-expansion-panel-header")(16,"mat-panel-title")(17,"p",15),l(18,"Product Information"),n()()(),a(19,"div",16)(20,"div",17)(21,"mat-form-field",18)(22,"mat-label"),l(23,"Product Name"),n(),c(24,"input",19),n()(),a(25,"div",17)(26,"mat-form-field",18)(27,"mat-label"),l(28,"Product Type"),n(),a(29,"mat-select",20),f(30,Wi,2,2,"mat-option",21),n()()(),a(31,"div",17)(32,"mat-form-field",18)(33,"mat-label"),l(34,"Category"),n(),a(35,"mat-select",22),f(36,zi,2,2,"mat-option",21),a(37,"mat-option",23),C("click",function(){u(e);let r=_();return g(r.openAddCategory())}),a(38,"span",24),l(39,"+ Add category"),n()()()()(),a(40,"div",17)(41,"mat-form-field",18)(42,"mat-label"),l(43,"Sub Category"),n(),a(44,"mat-select",25),f(45,Hi,2,2,"mat-option",21),n()()(),a(46,"div",17)(47,"mat-form-field",18)(48,"mat-label"),l(49,"Brand"),n(),a(50,"mat-select",26),f(51,Yi,2,3,"mat-option",21),n()()(),a(52,"div",17)(53,"mat-form-field",18)(54,"mat-label"),l(55,"Quantity"),n(),c(56,"input",27),n()(),a(57,"div",17)(58,"mat-form-field",18)(59,"mat-label"),l(60,"Unit"),n(),a(61,"mat-select",28),f(62,qi,2,2,"mat-option",21),n()()(),a(63,"div",17)(64,"div",29)(65,"mat-form-field",30)(66,"mat-label"),l(67,"SKU"),n(),c(68,"input",31),a(69,"button",32),C("click",function(){u(e);let r=_();return g(r.generateSKU())}),l(70,"Create SKU"),n()()()(),a(71,"div",17)(72,"mat-form-field",18)(73,"mat-label"),l(74,"Date"),n(),a(75,"input",33),C("focus",function(){u(e);let r=T(77);return g(r.open())}),n()(),c(76,"mat-datepicker",null,1),n(),a(78,"mat-form-field",18)(79,"mat-label"),l(80,"Description"),n(),c(81,"textarea",34),n()()(),a(82,"mat-expansion-panel",14),C("opened",function(){u(e);let r=_();return g(r.panelOpenState=!0)})("closed",function(){u(e);let r=_();return g(r.panelOpenState=!1)}),a(83,"mat-expansion-panel-header")(84,"mat-panel-title"),l(85," Product Images "),n()(),a(86,"div",35)(87,"div",36)(88,"div",37),C("click",function(){u(e);let r=T(93),s=_();return g(s.triggerFileUpload(r))}),c(89,"i",38),a(90,"label",39),l(91,"Add Images"),n()(),a(92,"input",40,2),C("change",function(r){u(e);let s=_();return g(s.onFilesSelected(r))}),n()(),f(94,Ki,5,1,"div",41),n()()()(),a(95,"div",42)(96,"button",43),l(97,"Submit"),n()()()()}if(i&2){let e=T(77),o=_();d(10),m("formGroup",o.addProductForm),d(4),m("expanded",!0),d(16),m("ngForOf",o.productTypes),d(6),m("ngForOf",o.productCategories),d(9),m("ngForOf",o.productCategories),d(6),m("ngForOf",o.brands),d(11),m("ngForOf",o.units),d(13),m("matDatepicker",e),d(7),m("expanded",!0),d(12),m("ngForOf",o.images),d(2),m("disabled",!o.isAddProductFormValid)}}var $e=class i{dialogRef=y(_e);data=y(be);router=y(K);formBuilder=y(le);inventoryService=y(J);cd=y(R);loader=y(B);accordion;panelOpenState=!1;id;index;selectedProduct;addProductForm;images=[];productCategoriesData=[];productTypes=ct;productCategories=pt;units=ut;brands=gt;hello(){this.dialogRef.close("Hello")}constructor(){this.dialogRef.disableClose=!0,this.id=this.data.id,this.index=this.data.index,this.selectedProduct=this.data.product}ngOnInit(){this.initializeForm(),this.setValues()}initializeForm(){this.addProductForm=this.formBuilder.group({productName:["",h.required],productType:["",h.required],productCategory:["",h.required],productSubCategory:["",h.required],productBrand:["",h.required],productQty:["",h.required],productUnit:["",h.required],productSku:["",h.required],productCreateDate:["",h.required],productDescription:["",h.required]})}setValues(){this.id=="edit-product"&&(this.editProduct(this.selectedProduct),console.log("index",this.index))}get isAddProductFormValid(){return this.addProductForm.valid}editProduct(t){console.log("selectedProduct",t),this.addProductForm.patchValue(W({},t)),t?.productImages&&Array.isArray(t.productImages)?this.images=t.productImages.map(e=>({src:e.src,name:e.name,size:e.size,type:e.type})):this.images=[]}generateSKU(){let t=this.addProductForm;if(!t)throw new Error("Form not initialized");let e=t.get("productCategory")?.value,o=t.get("productSubCategory")?.value,r=t.get("productBrand")?.value;if(!e||!o||!r)throw new Error("Form values missing or invalid");let s=this.productCategories.find(Qe=>Qe.productCategoryId==e);if(!s)throw new Error(`Category with ID '${e}' not found`);let p=this.productCategories.find(Qe=>Qe.productCategoryId==o);if(!p)throw new Error(`Subcategory with ID '${o}' not found`);let j=this.brands.find(Qe=>Qe.brandId==r);if(!j)throw new Error(`Brand with ID '${r}' not found`);let D=s.productCategoryName.substring(0,3).toUpperCase(),Ge=p.productCategoryName.substring(0,3).toUpperCase(),ht=j.brandCode.substring(0,3).toUpperCase(),St=new Date().getTime().toString().slice(-6),Pt=`${D}-${Ge}-${ht}-${St}`;t.get("productSku")?.setValue(Pt),console.log("Generated SKU:",Pt)}getProductTypeName(t){let e=this.productTypes.find(o=>o.value==t);return e?e.productTypeName:void 0}getProductCategoryName(t){let e=this.productCategories.find(o=>o.productCategoryId==t);return e?e.productCategoryName:void 0}getProductSubCategoryName(t){let e=this.productCategories.find(o=>o.productCategoryId==t);return e?e.productCategoryName:void 0}getUnitName(t){let e=this.units.find(o=>o.value==t);return e?e.unitName:void 0}getBrandName(t){let e=this.brands.find(o=>o.brandId==t);return e?e.brandName:void 0}onSubmit(){console.log("AddProductForm Value",this.addProductForm?.value);let t=this.getProductTypeName(this.addProductForm?.get("productType")?.value),e=this.getProductCategoryName(this.addProductForm?.get("productCategory")?.value),o=this.getProductCategoryName(this.addProductForm?.get("productSubCategory")?.value),r=this.getUnitName(this.addProductForm?.get("productUnit")?.value),s=this.getBrandName(this.addProductForm?.get("productBrand")?.value),p=this.addProductForm?.value;p=tt(W({},p),{productTypeName:t,productCategoryName:e,productSubCategoryName:o,productUnitName:r,productBrandName:s}),this.images.length>0&&(p.productImages=this.images),this.cd.openConfirmModal("Are you sure you want to appove the request?",()=>{this.inventoryService.addProduct(p)}),this.dialogRef.close({index:this.index===0?this.index:this.index?this.index:""})}getFormValidationErrors(){let t=[];return Object.keys(this.addProductForm?.controls).forEach(e=>{let o=this.addProductForm?.get(e)?.errors;o&&Object.keys(o).forEach(r=>{t.push({control:e,error:r,value:o[r]})})}),t}openAddCategory(){}triggerFileUpload(t){t.click()}onFilesSelected(t){let e=t.target.files;e&&Array.from(e).forEach(r=>{let s=new FileReader;s.onload=p=>{this.images.push({src:p.target.result,name:r.name,size:(r.size/1024).toFixed(2),type:r.type})},s.readAsDataURL(r)}),t.target.value=""}deleteImage(t){this.images.splice(t,1)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=V({type:i,selectors:[["app-create-product-dialog"]],viewQuery:function(e,o){if(e&1&&v(E,5),e&2){let r;x(r=w())&&(o.accordion=r.first)}},decls:1,vars:1,consts:[["accordion","matAccordion"],["picker",""],["fileInput",""],["class","common-dialog-modal",4,"ngIf"],[1,"common-dialog-modal"],[1,"section-card","rounded","p-2"],[1,"d-flex","align-items-start","justify-content-between","gap-2","p-2"],[1,"mb-0"],[1,"f-16","medium-font"],["mat-dialog-close","",1,"ms-2"],[1,"bi","bi-x-lg","f-24","bold-font"],[3,"ngSubmit","formGroup"],[1,"common-custom-expansion","content-height","py-3"],["multi","",1,"example-headers-align"],[3,"opened","closed","expanded"],[1,"m-0","medium-font","bodytext-color"],[1,"row","p-2"],[1,"col-lg-6","col-xl-4"],["appearance","outline","color","primary",1,"w-100"],["matInput","","formControlName","productName"],["formControlName","productType"],[3,"value",4,"ngFor","ngForOf"],["formControlName","productCategory"],[3,"click"],[1,"font-size","text-primary"],["formControlName","productSubCategory"],["formControlName","productBrand"],["matInput","","formControlName","productQty"],["formControlName","productUnit"],[1,"sku-mat-form-field"],["appearance","outline","color","primary",1,"w-100","rounded-end-0","relative-field"],["type","text","matInput","","placeholder","Generate SKU code","formControlName","productSku",1,"sku-input"],["type","button","mat-raised-button","","color","primary",1,"create-sku-button",3,"click"],["matInput","","readonly","","formControlName","productCreateDate",3,"focus","matDatepicker"],["matInput","","formControlName","productDescription"],[1,"d-flex","flex-wrap"],[1,"d-flex","flex-column","align-items-start","file-uploader-container"],[1,"d-flex","flex-column","align-items-center","justify-content-center","upload-lable-text","btn",3,"click"],[1,"bi","bi-plus-square"],["for","inputGroupFile"],["type","file","multiple","","hidden","",1,"form-control","file-upload-input","hidden",3,"change"],["class","d-flex flex-column align-items-start file-uploader-container",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","align-items-center","py-2",2,"opacity","100%"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[3,"value"],[1,"upload-lable-text","btn"],["alt","Image Preview","class","image-preview",3,"src",4,"ngIf"],[1,"text-end","delete-container"],[1,"bi","bi-x","delete-icon",3,"click"],["alt","Image Preview",1,"image-preview",3,"src"]],template:function(e,o){e&1&&f(0,eo,98,11,"div",3),e&2&&m("ngIf",o.id=="add-product"||o.id=="edit-product")},dependencies:[N,Y,q,O,ae,te,ie,oe,U,ee,me,ce,Ie,E,ge,fe,Ce,A,P,Z,pe,ne,re,se],styles:[".breadcrumb-icon[_ngcontent-%COMP%]{position:absolute;top:10px;right:19px}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.mat-label-text[_ngcontent-%COMP%]{color:#a1a1a1}.font-size[_ngcontent-%COMP%]{font-size:14px}.content-height[_ngcontent-%COMP%]{overflow:auto;max-height:60vh}.relative-field[_ngcontent-%COMP%]{position:relative}.sku-input[_ngcontent-%COMP%]{padding-right:120px}.create-sku-button[_ngcontent-%COMP%]{position:absolute;top:50%;right:-16px;transform:translateY(-50%);height:100%;line-height:1;z-index:2;border-radius:0 7px 7px 0}"]})};var to=()=>[5,15,25,50,100];function io(i,t){i&1&&(a(0,"th",47),l(1,"Sr. No."),n())}function oo(i,t){if(i&1&&(a(0,"td",48)(1,"p",49),l(2),n()()),i&2){let e=t.index;d(2),b(e+1)}}function ao(i,t){i&1&&(a(0,"th",47),l(1,"Product"),n())}function no(i,t){if(i&1&&(a(0,"td",48)(1,"p",49),l(2),n()()),i&2){let e=t.$implicit;d(2),b(e.productName)}}function ro(i,t){i&1&&(a(0,"th",47),l(1,"Product Type"),n())}function lo(i,t){if(i&1&&(a(0,"td",48)(1,"p",49),l(2),n()()),i&2){let e=t.$implicit;d(2),b(e.productTypeName)}}function so(i,t){i&1&&(a(0,"th",47),l(1,"Category"),n())}function mo(i,t){if(i&1&&(a(0,"td",48)(1,"p",49),l(2),n()()),i&2){let e=t.$implicit;d(2),b(e.productCategoryName)}}function co(i,t){i&1&&(a(0,"th",47),l(1,"Sub Category"),n())}function po(i,t){if(i&1&&(a(0,"td",48)(1,"p",49),l(2),n()()),i&2){let e=t.$implicit;d(2),b(e.productSubCategoryName)}}function uo(i,t){i&1&&(a(0,"th",47),l(1,"Brand"),n())}function go(i,t){if(i&1&&(a(0,"td",48)(1,"p",49),l(2),n()()),i&2){let e=t.$implicit;d(2),b(e.productBrandName)}}function fo(i,t){i&1&&(a(0,"th",47),l(1,"Unit"),n())}function Co(i,t){if(i&1&&(a(0,"td",48)(1,"p",49),l(2),n()()),i&2){let e=t.$implicit;d(2),b(e.productUnitName)}}function yo(i,t){i&1&&(a(0,"th",47),l(1,"Quantity"),n())}function _o(i,t){if(i&1&&(a(0,"td",48)(1,"p",49),l(2),n()()),i&2){let e=t.$implicit;d(2),b(e.productQty)}}function bo(i,t){i&1&&(a(0,"th",50),l(1," Created "),n())}function ho(i,t){if(i&1&&(a(0,"td",48)(1,"p",49),l(2),H(3,"date"),n()()),i&2){let e=t.$implicit;d(2),b(Lt(3,1,e.productCreateDate))}}function Io(i,t){i&1&&(a(0,"th",51),l(1,"Action"),n())}function So(i,t){if(i&1){let e=M();a(0,"td",48)(1,"img",52),C("click",function(){let r=u(e).index,s=_();return g(s.editProduct(r,"edit-product"))}),n(),a(2,"img",53),C("click",function(){let r=u(e).index,s=_();return g(s.deleteProduct(r))}),n()()}}function vo(i,t){i&1&&c(0,"tr",54)}function xo(i,t){i&1&&c(0,"tr",55)}function wo(i,t){i&1&&(a(0,"tr",56)(1,"td",57),l(2,"No data matching the filter"),n()())}var Ke=class i{accordion;paginator;sort;productDataSource=new Q;productDisplayedColumns=["srNo","productName","productType","productCategory","productSubCategory","productBrand","productUnit","productQty","created","action"];panelOpenState=!1;productData=[];dialog=y(he);inventoryService=y(J);loader=y(B);cd=y(R);constructor(){}ngOnInit(){}ngAfterViewInit(){this.productDataSource.paginator=this.paginator,this.productDataSource.sort=this.sort}filterApply(t){let e=t.target.value;this.productDataSource.filter=e.trim().toLocaleLowerCase()}addProduct(t){this.dialog.open($e,{panelClass:"large-dialog",autoFocus:!1,data:{id:t}}).afterClosed().subscribe(o=>{console.log("res",o),console.log("enableMock Value",this.inventoryService?.enableMock),this.inventoryService?.productCast?.pipe(L()).subscribe(r=>{Array.isArray(r)?this.productData=r:this.productData.some(p=>p.productSku==r.productSku)||this.productData.push(r),console.log("productData",this.productData),console.log("productDataSource",this.productDataSource.data),setTimeout(()=>{this.productDataSource.data=[...this.productData]},2e3)})})}editProduct(t,e){let o=this.productData[t];this.dialog.open($e,{panelClass:"large-dialog",autoFocus:!1,data:{id:e,product:o,index:t}}).afterClosed().subscribe(s=>{this.inventoryService?.productCast?.pipe(L()).subscribe(p=>{this.productData=[],Array.isArray(p)?this.productData=p:this.productData.some(D=>D.productSku==p.productSku)||this.productData.push(p),this.productDataSource.data[s.index]=p,this.productDataSource._updateChangeSubscription(),this.loader.stopLoader(),this.cd.openSuccessModal("Successful !")})})}deleteProduct(t){this.cd.openConfirmModal("Are you sure you want to delete this product?",()=>{this.productData.splice(t,1),this.productDataSource.data=[...this.productData],this.productDataSource._updateChangeSubscription()})}openSuccessDialog(){}generatePDF(t){let e=new dt,o=["Sr. No.","Product","Product Type","Category","Sub Category","Brand","Unit","Quantity","Created","Status"],r=this.productDataSource.data.map((s,p)=>[p+1,s.productName,s.productTypeName,s.productCategoryName,s.productSubCategoryName,s.productBrandName,s.productUnitName,s.productQty,new Date(s.productCreateDate).toLocaleDateString(),s.brandStatus==="1"?"Active":"Inactive"]);if(e.setFontSize(16),e.text("Product List",14,15),st(e,{startY:20,head:[o],body:r,theme:"grid",styles:{fontSize:10},headStyles:{fillColor:[41,128,185],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]},margin:{top:20}}),t)e.save("Products.pdf");else{let s=e.output("blob"),p=URL.createObjectURL(s),j=window.open(p);j&&(j.onload=()=>j.print())}}pdfDownload(){this.generatePDF(!0)}print(){this.generatePDF(!1)}excelDownload(){let t=[["Sr. No.","Product","Product Type","Category","Sub Category","Brand","Unit","Quantity","Created","Status"]],e=this.productDataSource.data.map((D,Ge)=>[Ge+1,D.productName,D.productTypeName,D.productCategoryName,D.productSubCategoryName,D.productBrandName,D.productUnitName,D.productQty,new Date(D.productCreateDate).toLocaleDateString(),D.brandStatus==="1"?"Active":"Inactive"]),o=[...t,...e],r=Oe.aoa_to_sheet(o),s=Oe.book_new();Oe.book_append_sheet(s,r,"Products");let p=Xt(s,{bookType:"xlsx",type:"array"}),j=new Blob([p],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});mt(s,"Products.xlsx")}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=V({type:i,selectors:[["app-products"]],viewQuery:function(e,o){if(e&1&&(v(E,5),v(k,5),v(F,5)),e&2){let r;x(r=w())&&(o.accordion=r.first),x(r=w())&&(o.paginator=r.first),x(r=w())&&(o.sort=r.first)}},decls:78,vars:8,consts:[["input",""],["languageMenu","matMenu"],[1,"cardWithShadow","p-3"],[1,"section-card","rounded","p-3"],[1,"d-flex","align-items-center","justify-content-between"],[1,"p-2"],[1,"f-16","medium-font"],[1,"breadcrumb-icon"],["src","/assets/images/products.svg","alt","breadcrumb"],[1,"product-table-container"],[1,"d-flex","flex-wrap","align-items-center","justify-content-between","mt-3"],[1,"col-12","col-md-6","col-lg-6","col-xl-6","mb-2"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Search Parent Category, Sub Category, Sub Category Code etc",3,"keyup"],["matSuffix","",1,"search-icon-color"],[1,"d-flex","flex-wrap","justify-content-md-end"],["mat-raised-button","","color","primary",1,"hover-rotate","mx-1","my-1",3,"click"],[1,"bi","bi-plus","f-20","icon"],[1,"text"],["mat-raised-button","","color","primary",1,"mx-1","my-1",3,"matMenuTriggerFor"],[1,"bi","bi-three-dots-vertical"],["xPosition","before",1,"p-2"],["mat-menu-item","",1,"menu-items",3,"click"],[1,"bi","bi-filetype-pdf","f-20","text-danger","me-2"],[1,"bi","bi-filetype-xls","f-20","text-success","me-2"],[1,"bi","bi-printer","f-20","text-primary","me-2"],[1,"common-custom-expansion","my-3"],[1,"product-table"],["mat-table","","matSort","","matSortDirection","desc","mat-table-auto-rows","",1,"",3,"dataSource"],["matColumnDef","srNo"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","productName"],["matColumnDef","productType"],["matColumnDef","productCategory"],["matColumnDef","productSubCategory"],["matColumnDef","productBrand"],["matColumnDef","productUnit"],["matColumnDef","productQty"],["matColumnDef","created"],["mat-header-cell","","mat-sort-header","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-cell","","mat-sort-header","","class","sticky-action-column",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"m-0"],["mat-header-cell","","mat-sort-header","","mat-sort-header",""],["mat-header-cell","","mat-sort-header","",1,"sticky-action-column"],["src","./assets/icons/dwnld_icons/icon_edit.svg","alt","edit-icon",1,"action-icon",3,"click"],["src","./assets/icons/dwnld_icons/icon_delete.svg","alt","delete-icon",1,"action-icon","ms-2",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,o){if(e&1){let r=M();a(0,"mat-card",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h1"),l(5,"Products"),n(),a(6,"p",6),l(7,"Manage your products"),n()(),a(8,"div",7),c(9,"img",8),n()()(),a(10,"div",9)(11,"div",10)(12,"div",11)(13,"mat-form-field",12)(14,"mat-label"),l(15,"Search"),n(),a(16,"input",13,0),C("keyup",function(p){return u(r),g(o.filterApply(p))}),n(),a(18,"mat-icon",14),l(19,"search"),n()()(),a(20,"div",15)(21,"button",16),C("click",function(){return u(r),g(o.addProduct("add-product"))}),c(22,"i",17),a(23,"span",18),l(24,"Add Product"),n()(),a(25,"button",19),c(26,"i",20),n(),a(27,"mat-menu",21,1)(29,"button",22),C("click",function(){return u(r),g(o.pdfDownload())}),c(30,"i",23),a(31,"span"),l(32," Export PDF"),n()(),a(33,"button",22),C("click",function(){return u(r),g(o.excelDownload())}),c(34,"i",24),a(35,"span"),l(36," Export XLS"),n()(),a(37,"button",22),C("click",function(){return u(r),g(o.print())}),c(38,"i",25),a(39,"span"),l(40," Print"),n()()()()(),a(41,"div",26)(42,"div",27)(43,"table",28),I(44,29),f(45,io,2,0,"th",30)(46,oo,3,1,"td",31),S(),I(47,32),f(48,ao,2,0,"th",30)(49,no,3,1,"td",31),S(),I(50,33),f(51,ro,2,0,"th",30)(52,lo,3,1,"td",31),S(),I(53,34),f(54,so,2,0,"th",30)(55,mo,3,1,"td",31),S(),I(56,35),f(57,co,2,0,"th",30)(58,po,3,1,"td",31),S(),I(59,36),f(60,uo,2,0,"th",30)(61,go,3,1,"td",31),S(),I(62,37),f(63,fo,2,0,"th",30)(64,Co,3,1,"td",31),S(),I(65,38),f(66,yo,2,0,"th",30)(67,_o,3,1,"td",31),S(),I(68,39),f(69,bo,2,0,"th",40)(70,ho,4,3,"td",31),S(),I(71,41),f(72,Io,2,0,"th",42)(73,So,3,0,"td",31),S(),f(74,vo,1,0,"tr",43)(75,xo,1,0,"tr",44)(76,wo,3,0,"tr",45),n()(),c(77,"mat-paginator",46),n()()()}if(e&2){let r=T(28);d(25),m("matMenuTriggerFor",r),d(18),m("dataSource",o.productDataSource),d(31),m("matHeaderRowDef",o.productDisplayedColumns),d(),m("matRowDefColumns",o.productDisplayedColumns),d(2),m("length",100)("pageSize",5)("pageSizeOptions",z(7,to))}},dependencies:[N,$,O,U,ue,A,P,de,ye,Z,rt,nt,lt,k,F,Se,ve,we,Ve,De,xe,Te,Me,Ee,Ne,ke,Fe],styles:[".product-table-container[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper.mat-mdc-form-field-bottom-align{display:none!important}.menu-items[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.menu-items[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.hover-rotate[_ngcontent-%COMP%]{position:relative}.hover-rotate[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:inline-block;transition:transform 1s ease-in-out}.hover-rotate[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:none}.hover-rotate[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{transform:rotate(180deg)}.hover-rotate[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{display:inline-block}"]})};function Do(i,t){if(i&1&&(a(0,"mat-option",29),l(1),n()),i&2){let e=t.$implicit;m("value",e.productCategoryId),d(),G(" ",e.productCategoryName," ")}}function Mo(i,t){if(i&1&&(a(0,"mat-option",29),l(1),n()),i&2){let e=t.$implicit;m("value",e.value),d(),G(" ",e.status," ")}}function Eo(i,t){if(i&1){let e=M();a(0,"div",3)(1,"div",4)(2,"div",5)(3,"h2",6),l(4,"Add Sub Category"),n(),a(5,"h4",6),l(6,"Add details of your sub category"),n()(),a(7,"div",7),c(8,"img",8),n()(),a(9,"form",9),C("ngSubmit",function(){u(e);let r=_();return g(r.onSubmit())}),a(10,"div",10)(11,"mat-accordion",11,0)(13,"mat-expansion-panel",12),C("opened",function(){u(e);let r=_();return g(r.panelOpenState=!0)})("closed",function(){u(e);let r=_();return g(r.panelOpenState=!1)}),a(14,"mat-expansion-panel-header")(15,"mat-panel-title",13),l(16," Sub Category Information "),n()(),a(17,"div",14)(18,"div",15)(19,"mat-form-field",16)(20,"mat-label"),l(21,"Parent Category"),n(),a(22,"mat-select",17),f(23,Do,2,2,"mat-option",18),n()()(),a(24,"div",15)(25,"mat-form-field",16)(26,"mat-label"),l(27,"Sub Category Name"),n(),c(28,"input",19),n()(),a(29,"div",15)(30,"mat-form-field",16)(31,"mat-label"),l(32,"Date"),n(),a(33,"input",20),C("focus",function(){u(e);let r=T(35);return g(r.open())}),n()(),c(34,"mat-datepicker",null,1),n(),a(36,"div",15)(37,"mat-form-field",16)(38,"mat-label"),l(39,"Sub Category Status"),n(),a(40,"mat-select",21),f(41,Mo,2,2,"mat-option",18),n()()(),a(42,"div",15)(43,"div",22)(44,"mat-form-field",23)(45,"mat-label"),l(46,"Sub Category Code"),n(),c(47,"input",24),a(48,"button",25),C("click",function(){u(e);let r=_();return g(r.generateSubCategoryCode())}),l(49,"Create Code"),n()()()(),a(50,"mat-form-field",16)(51,"mat-label"),l(52,"Description"),n(),c(53,"textarea",26),n()()()()(),a(54,"div",27)(55,"button",28),l(56,"Submit"),n()()()()}if(i&2){let e=T(35),o=_();d(9),m("formGroup",o.addSubCategoryForm),d(4),m("expanded",!0),d(10),m("ngForOf",o.productCategories),d(10),m("matDatepicker",e),d(8),m("ngForOf",o.subCategoryStatusOptions),d(14),m("disabled",!o.isAddSubCategoryFormValid)}}var et=class i{dialogRef=y(_e);data=y(be);router=y(K);formBuilder=y(le);inventoryService=y(J);cd=y(R);loader=y(B);accordion;panelOpenState=!1;id;index;selectedSubCategory;addSubCategoryForm;images=[];productCategoriesData=[];subCategoryStatusOptions=[{value:"0",status:"In-Active"},{value:"1",status:"Active"}];productTypes=ct;productCategories=pt;units=ut;brands=gt;constructor(){this.dialogRef.disableClose=!0,this.id=this.data.id,this.index=this.data.index,this.selectedSubCategory=this.data.subCategory}ngOnInit(){this.initializeForm(),this.setValues()}initializeForm(){this.addSubCategoryForm=this.formBuilder.group({categoryId:["",h.required],subCategoryName:["",h.required],subCategoryCode:["",h.required],subCategoryAddDate:["",h.required],subCategoryStatus:["",h.required],subCategoryDescription:["",h.required]})}setValues(){this.id=="edit-sub-category"&&(this.editCategory(this.selectedSubCategory),console.log("index",this.index))}get isAddSubCategoryFormValid(){return this.addSubCategoryForm.valid}generateSubCategoryCode(){let t=this.addSubCategoryForm;if(!t)throw new Error("Form not initialized");let e=t.get("categoryId")?.value,o=t.get("subCategoryName")?.value;if(!e||!o)throw new Error("Form values missing or invalid");let r=this.productCategories.find(St=>St.productCategoryId==e);if(!r)throw new Error(`Category with ID '${e}' not found`);let s=r.productCategoryName.substring(0,3).toUpperCase();o=o.substring(0,3).toUpperCase().padEnd(3,"IN");let p=new Date,j=p.getTime().toString().slice(-6),D=p.toLocaleString("default",{month:"long"}).toUpperCase(),Ge=D.substring(0,2),ht=D.slice(-1),It=`${s}-${o}-${Ge}-${j}-${ht}`;t.get("subCategoryCode")?.setValue(It),console.log("Generated Sub Category Code:",It)}editCategory(t){this.addSubCategoryForm.patchValue({categoryId:t?.categoryId,subCategoryName:t?.subCategoryName,subCategoryCode:t?.subCategoryCode,subCategoryAddDate:t?.subCategoryAddDate,subCategoryStatus:t?.subCategoryStatus,subCategoryDescription:t?.subCategoryDescription})}getcategoryIdName(t){let e=this.productCategories.find(o=>o.productCategoryId==t);return e?e.productCategoryName:void 0}onSubmit(){console.log("addSubCategoryForm Value",this.addSubCategoryForm?.value);let t=this.getcategoryIdName(this.addSubCategoryForm?.get("categoryId")?.value),e=this.addSubCategoryForm?.value;e=tt(W({},e),{categoryIdName:t}),this.cd.openConfirmModal("Are you sure you want to appove the request?",()=>{this.loader.startLoader(),this.inventoryService.addSubCategory(e)}),this.dialogRef.close({index:this.index===0?this.index:this.index?this.index:""})}getFormValidationErrors(){let t=[];return Object.keys(this.addSubCategoryForm?.controls).forEach(e=>{let o=this.addSubCategoryForm?.get(e)?.errors;o&&Object.keys(o).forEach(r=>{t.push({control:e,error:r,value:o[r]})})}),t}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=V({type:i,selectors:[["app-create-sub-category-dialog"]],viewQuery:function(e,o){if(e&1&&v(E,5),e&2){let r;x(r=w())&&(o.accordion=r.first)}},decls:3,vars:1,consts:[["accordion","matAccordion"],["picker",""],["class","common-dialog-modal",4,"ngIf"],[1,"common-dialog-modal"],[1,"d-flex","align-items-center","justify-content-between","bg-light-primary","px-4","py-3"],[1,"d-flex","flex-column"],[1,"page-title","m-0"],["mat-dialog-close",""],["src","./assets/images/dialogIcons/cross.svg","alt",""],[3,"ngSubmit","formGroup"],[1,"common-custom-expansion","content-height","mt-2"],["multi","",1,"example-headers-align"],[3,"opened","closed","expanded"],[1,""],[1,"row"],[1,"col-lg-6","col-xl-6","mb-2"],["appearance","outline","color","primary",1,"w-100"],["formControlName","categoryId"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","subCategoryName"],["matInput","","readonly","","formControlName","subCategoryAddDate",3,"focus","matDatepicker"],["formControlName","subCategoryStatus"],[1,"category-code-mat-form-field"],["appearance","outline","color","primary",1,"w-100","rounded-end-0","relative-field"],["type","text","matInput","","placeholder","Generate Category Code","formControlName","subCategoryCode",1,"cat-code-input"],["type","button","mat-raised-button","","color","primary",1,"create-cat-code-button",3,"click"],["matInput","","formControlName","subCategoryDescription"],[1,"d-flex","justify-content-end","align-items-center","py-2"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[3,"value"]],template:function(e,o){e&1&&(a(0,"p"),l(1,"create-sub-category-dialog works!"),n(),f(2,Eo,57,6,"div",2)),e&2&&(d(2),m("ngIf",o.id=="add-sub-category"||o.id=="edit-sub-category"))},dependencies:[N,Y,q,O,ae,te,ie,oe,U,ee,me,ce,Ie,E,ge,fe,Ce,A,P,Z,pe,ne,re,se],styles:[".cat-code-input[_ngcontent-%COMP%]{padding-right:120px}.create-cat-code-button[_ngcontent-%COMP%]{position:absolute;top:50%;right:-16px;transform:translateY(-50%);height:100%;line-height:1;z-index:2;border-radius:0 2px 2px 0}"]})};var Vo=()=>[5,15,25,50,100],To=(i,t)=>({"status-button-active":i,"status-button-inactive":t});function No(i,t){i&1&&(a(0,"th",38),l(1,"Sr. No."),n())}function ko(i,t){if(i&1&&(a(0,"td",39)(1,"p",40),l(2),n()()),i&2){let e=t.index;d(2),b(e+1)}}function Fo(i,t){i&1&&(a(0,"th",38),l(1,"Parent Category"),n())}function Oo(i,t){if(i&1&&(a(0,"td",39)(1,"p",40),l(2),n()()),i&2){let e=t.$implicit;d(2),b(e.categoryIdName)}}function Jo(i,t){i&1&&(a(0,"th",38),l(1,"Sub Category"),n())}function jo(i,t){if(i&1&&(a(0,"td",39)(1,"p",40),l(2),n()()),i&2){let e=t.$implicit;d(2),b(e.subCategoryName)}}function Po(i,t){i&1&&(a(0,"th",38),l(1,"Sub Category Code"),n())}function Ao(i,t){if(i&1&&(a(0,"td",39)(1,"p",40),l(2),n()()),i&2){let e=t.$implicit;d(2),b(e.subCategoryCode)}}function Uo(i,t){i&1&&(a(0,"th",41),l(1,"Created"),n())}function Zo(i,t){if(i&1&&(a(0,"td",39)(1,"p",40),l(2),H(3,"date"),n()()),i&2){let e=t.$implicit;d(2),b(Be(3,1,e.subCategoryAddDate,"dd/MM/yyyy"))}}function Ro(i,t){i&1&&(a(0,"th",41),l(1,"Status"),n())}function Bo(i,t){if(i&1&&(a(0,"td",39)(1,"span",42),l(2),n()()),i&2){let e=t.$implicit;d(),m("ngClass",Re(2,To,e.subCategoryStatus=="1",e.subCategoryStatus=="0")),d(),G(" ",e.subCategoryStatus=="1"?"Active":"InActive"," ")}}function Lo(i,t){i&1&&(a(0,"th",43),l(1,"Action"),n())}function Go(i,t){if(i&1){let e=M();a(0,"td",39)(1,"div",44)(2,"img",45),C("click",function(){let r=u(e).index,s=_();return g(s.editSubCategory(r,"edit-sub-category"))}),n(),a(3,"img",46),C("click",function(){let r=u(e).index,s=_();return g(s.deleteSubCategory(r))}),n()()()}}function Qo(i,t){i&1&&c(0,"tr",47)}function Xo(i,t){i&1&&c(0,"tr",48)}function Wo(i,t){i&1&&(a(0,"tr",49)(1,"td",50),l(2,"No data matching the filter"),n()())}var bt=class i{accordion;paginator;sort;subCategoriesDataSource=new Q;subCategoriesDisplayedColumns=["srNo","categoryId","subCategoryName","subCategoryCode","created","status","action"];panelOpenState=!1;subCategoriesData=[];dialog=y(he);inventoryService=y(J);loader=y(B);cd=y(R);constructor(){}ngOnInit(){}ngAfterViewInit(){this.subCategoriesDataSource.paginator=this.paginator,this.subCategoriesDataSource.sort=this.sort}filterApply(t){let e=t.target.value;this.subCategoriesDataSource.filter=e.trim().toLocaleLowerCase()}addSubCategory(t){this.dialog.open(et,{panelClass:"medium-dialog",autoFocus:!1,data:{id:t}}).afterClosed().subscribe(o=>{this.inventoryService?.subCategoryCast?.pipe(L()).subscribe(r=>{console.log("Data",r),Array.isArray(r)?this.subCategoriesData=r:this.subCategoriesData.some(p=>p.subCategoryCode==r.subCategoryCode)||this.subCategoriesData.push(r),console.log("subCategoriesData",this.subCategoriesData),console.log("subCategoriesDataSource",this.subCategoriesDataSource.data),this.loader.stopLoader(),this.subCategoriesDataSource.data=[...this.subCategoriesData]})})}editSubCategory(t,e){let o=this.subCategoriesData[t];this.dialog.open(et,{panelClass:"medium-dialog",autoFocus:!1,data:{id:e,subCategory:o,index:t}}).afterClosed().subscribe(s=>{this.inventoryService?.subCategoryCast?.pipe(L()).subscribe(p=>{this.subCategoriesData=[],Array.isArray(p)?this.subCategoriesData=p:this.subCategoriesData.some(D=>D.subCategoryCode==p.subCategoryCode)||this.subCategoriesData.push(p),this.subCategoriesDataSource.data[s.index]=p,this.subCategoriesDataSource._updateChangeSubscription(),this.loader.stopLoader()})})}deleteSubCategory(t){this.cd.openConfirmModal("Are you sure you want to delete this category?",()=>{this.subCategoriesData.splice(t,1),this.subCategoriesDataSource.data=[...this.subCategoriesData],this.subCategoriesDataSource._updateChangeSubscription()})}openSuccessDialog(){}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=V({type:i,selectors:[["app-sub-categories"]],viewQuery:function(e,o){if(e&1&&(v(E,5),v(k,5),v(F,5)),e&2){let r;x(r=w())&&(o.accordion=r.first),x(r=w())&&(o.paginator=r.first),x(r=w())&&(o.sort=r.first)}},decls:57,vars:7,consts:[["input",""],[1,"cardWithShadow","p-3"],[1,"section-card","rounded","p-3"],[1,"d-flex","align-items-center","justify-content-between"],[1,"p-2"],[1,"f-16","medium-font"],[1,"breadcrumb-icon"],["src","/assets/images/sub-categories.png","alt","breadcrumb"],[1,"sub-category-table-container"],[1,"d-flex","flex-wrap","align-items-center","justify-content-between","mt-3"],[1,"col-12","col-md-6","col-lg-6","col-xl-6","mb-2"],["appearance","outline",1,"w-100"],["matInput","","placeholder","Search Parent Category, Sub Category, Sub Category Code etc",3,"keyup"],["matSuffix","",1,"search-icon-color"],[1,"d-flex","flex-wrap","justify-content-md-end"],["mat-raised-button","",1,"mx-1","my-1"],[1,"bi","bi-filetype-pdf","f-20","text-danger"],[1,"bi","bi-filetype-xls","f-20","text-success"],[1,"bi","bi-printer","f-20","text-primary"],["mat-raised-button","","color","primary",1,"mx-1","my-1",3,"click"],[1,"common-custom-expansion","my-3"],[1,""],["mat-table","","matSort","","matSortDirection","desc","mat-table-auto-rows","",1,"",3,"dataSource"],["matColumnDef","srNo"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","categoryId"],["matColumnDef","subCategoryName"],["matColumnDef","subCategoryCode"],["matColumnDef","created"],["mat-header-cell","","mat-sort-header","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-cell","","mat-sort-header","","class","sticky-action-column",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"m-0"],["mat-header-cell","","mat-sort-header","","mat-sort-header",""],[3,"ngClass"],["mat-header-cell","","mat-sort-header","",1,"sticky-action-column"],[1,"d-flex","justify-content-center","align-items-center","gap-2"],["src","./assets/icons/dwnld_icons/icon_edit.svg","alt","edit-icon",1,"action-icon",3,"click"],["src","./assets/icons/dwnld_icons/icon_delete.svg","alt","delete-icon",1,"action-icon",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,o){if(e&1){let r=M();a(0,"mat-card",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h1"),l(5,"Sub Categories"),n(),a(6,"p",5),l(7,"Manage your sub categories"),n()(),a(8,"div",6),c(9,"img",7),n()()(),a(10,"div",8)(11,"div",9)(12,"div",10)(13,"mat-form-field",11)(14,"mat-label"),l(15,"Search"),n(),a(16,"input",12,0),C("keyup",function(p){return u(r),g(o.filterApply(p))}),n(),a(18,"mat-icon",13),l(19,"search"),n()()(),a(20,"div",14)(21,"button",15),c(22,"i",16),n(),a(23,"button",15),c(24,"i",17),n(),a(25,"button",15),c(26,"i",18),n(),a(27,"button",19),C("click",function(){return u(r),g(o.addSubCategory("add-sub-category"))}),l(28," Add Sub Category "),n()()(),a(29,"div",20)(30,"div",21)(31,"table",22),I(32,23),f(33,No,2,0,"th",24)(34,ko,3,1,"td",25),S(),I(35,26),f(36,Fo,2,0,"th",24)(37,Oo,3,1,"td",25),S(),I(38,27),f(39,Jo,2,0,"th",24)(40,jo,3,1,"td",25),S(),I(41,28),f(42,Po,2,0,"th",24)(43,Ao,3,1,"td",25),S(),I(44,29),f(45,Uo,2,0,"th",30)(46,Zo,4,4,"td",25),S(),I(47,31),f(48,Ro,2,0,"th",30)(49,Bo,3,5,"td",25),S(),I(50,32),f(51,Lo,2,0,"th",33)(52,Go,4,0,"td",25),S(),f(53,Qo,1,0,"tr",34)(54,Xo,1,0,"tr",35)(55,Wo,3,0,"tr",36),n()(),c(56,"mat-paginator",37),n()()()}e&2&&(d(31),m("dataSource",o.subCategoriesDataSource),d(22),m("matHeaderRowDef",o.subCategoriesDisplayedColumns),d(),m("matRowDefColumns",o.subCategoriesDisplayedColumns),d(2),m("length",100)("pageSize",5)("pageSizeOptions",z(6,Vo)))},dependencies:[N,Le,$,O,U,ue,A,P,de,ye,Z,k,F,Se,ve,we,Ve,De,xe,Te,Me,Ee,Ne,ke,Fe],styles:[".sub-category-table-container[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper.mat-mdc-form-field-bottom-align{display:none!important}"]})};var el=[{path:"",component:Ke},{path:"products",component:Ke},{path:"categories",component:_t},{path:"sub-categories",component:bt},{path:"brands",component:yt}];export{el as routes};
