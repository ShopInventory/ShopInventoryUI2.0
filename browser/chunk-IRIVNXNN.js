import{A as E,B as F,C as T,Ca as J,D as N,E as j,F as G,G as R,H as z,I as D,K as L,V as B,ca as V,j as P,t as y,v as S,w as O,y as k,z as I}from"./chunk-B7EITV4E.js";import{Ca as v,Cb as e,Db as t,Eb as l,Gc as _,Lb as b,Lc as M,Nb as x,Nc as c,Wa as s,Xa as d,Yb as n,Zb as C,_b as w,hb as p,mb as h,sb as g}from"./chunk-ISFN6XVN.js";import"./chunk-EQDQRRRY.js";function Q(a,r){if(a&1&&(e(0,"mat-hint",49),n(1),t()),a&2){let o=x();s(),w("* ",o.usernameError,"")}}function X(a,r){if(a&1&&(e(0,"mat-hint",49),n(1),t()),a&2){let o=x();s(),w("* ",o.passwordError,"")}}var u=class a{constructor(r,o,i){this.formBuilder=r;this.router=o;this.platformId=i}hidePassword=!0;loginForm;usernameError=null;passwordError=null;ngOnInit(){this.initializeForm(),c(this.platformId)&&this.setValues()}setValues(){typeof sessionStorage<"u"?sessionStorage.clear():console.warn("sessionStorage is not available in this environment."),typeof localStorage<"u"?localStorage.clear():console.warn("localStorage is not available in this environment.")}initializeForm(){this.loginForm=this.formBuilder.group({username:[""],password:[""]})}togglePasswordVisibility(){this.hidePassword=!this.hidePassword}onSubmit(){let r=this.loginForm.get("username")?.value,o=this.loginForm.get("password")?.value;if(this.usernameError=null,this.passwordError=null,this.loginForm.valid&&c(this.platformId)){let i=this.generateToken();console.log("Generated Token:",i),sessionStorage.setItem("authToken",i),console.log("Token stored in sessionStorage"),this.authorizeUser(r,o)?(console.log("User authorized successfully!"),this.router.navigate(["/dashboard"])):console.log("Authorization failed. Invalid username or password.")}}generateToken(){return"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHBfYXQiOjE3Mjk1ODI2ODIsImlzc3VlX2F0IjoxNzI5NTgxNDgyLCJyb2xlTmFtZSI6IkFkbWluIiwidXNlcm5hbWUiOiJwcmFzaGFudGRhdjAxIiwicGFzc3dvcmQiOiJwcmFzaGFudGRhdjAxIn0.uj8Jq5AnDgQM0nZjtYKsUNQSRR7P8sB3_mGnIHy1tgs"}decodeTokenPayload(r){let o=r.split(".")[1],i=atob(o);return JSON.parse(i)}authorizeUser(r,o){if(c(this.platformId)){let i=sessionStorage.getItem("authToken");if(i){let m=this.decodeTokenPayload(i);return m.username===r&&m.password===o}}return!1}logout(){c(this.platformId)&&(sessionStorage.removeItem("authToken"),this.loginForm.get("username")?.setValue(""),this.loginForm.get("password")?.setValue(""),sessionStorage.getItem("authToken")?console.log("Token was not removed from sessionStorage."):(console.log("User logged out. Token removed from sessionStorage."),this.router.navigate(["/login"])))}static \u0275fac=function(o){return new(o||a)(d(F),d(P),d(v))};static \u0275cmp=p({type:a,selectors:[["app-login"]],decls:74,vars:5,consts:[[1,"auth-bg","d-flex","align-items-center","justify-content-center","min-vh-100"],[1,"container"],[1,"card-shadow"],[1,"container-fluid"],[1,"row","justify-content-center","p-5"],[1,"col-11"],[1,"login-signup-page-container"],[1,"row"],[1,"col-12","col-lg-7"],[1,"text-center"],["href","/"],["src","./assets/logos/M.png","alt","logo",1,"img-fluid"],[1,"mt-3"],[1,"login-with-app-container","mt-5"],[1,"d-flex","gap-3","justify-content-center"],[1,"login-google-btn","d-flex","gap-2","align-items-center"],["src","/assets/images/svgs/google.png","alt","Google","width","20"],[1,"m-0","show-text"],[1,"char-g"],[1,"char-o"],[1,"char-o-2"],[1,"char-g-2"],[1,"char-l"],[1,"char-e"],[1,"login-facebook-btn","d-flex","gap-2","align-items-center"],["src","/assets/images/svgs/facebook.png","alt","Google","width","20"],[1,"sign-in-with-text","text-center","mt-5"],[1,"fs-20","m-0","text-with-bg","d-inline-block"],[1,"mt-5"],[3,"ngSubmit","formGroup"],["color","primary",1,"cw-75"],["matInput","","formControlName","username"],["matSuffix","","mat-icon-button","","aria-label","Clear"],["class","text-danger",4,"ngIf"],["color","primary",1,"cw-75","mt-3"],["matInput","","formControlName","password",3,"type"],["matSuffix","","mat-icon-button","","type","button","aria-label","Toggle password visibility",3,"click"],[1,"d-flex","justify-content-center"],[1,"d-flex","flex-column","flex-sm-row","align-items-start","align-items-sm-center","justify-content-sm-between","cw-75"],["color","primary"],["href","/authentication/boxed-forgot-pwd",1,"text-primary","text-decoration-none"],[1,"text-center","my-5"],["mat-raised-button","","color","primary","type","submit",1,"w-50","py-2","rounded-pill","animated-btn-effect"],[1,"col-5","d-none","d-lg-block"],[1,"d-flex","justify-content-center","align-items-center","h-100"],[1,"text-center","left-border"],["src","/assets/images/backgrounds/stock_mgmt.svg","alt","login-side-img","width","300",1,"img-fluid"],[1,"text-primary","text-nowrap"],[1,"text-wrap"],[1,"text-danger"]],template:function(o,i){o&1&&(e(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"a",10),l(11,"img",11),t(),e(12,"h1",12),n(13,"Let's get you signed in"),t()(),e(14,"div",13)(15,"div",14)(16,"div",15),l(17,"img",16),e(18,"p",17)(19,"span",18),n(20,"G"),t(),e(21,"span",19),n(22,"o"),t(),e(23,"span",20),n(24,"o"),t(),e(25,"span",21),n(26,"g"),t(),e(27,"span",22),n(28,"l"),t(),e(29,"span",23),n(30,"e"),t()()(),e(31,"div",24),l(32,"img",25),e(33,"p",17),n(34,"Facebook"),t()()()(),e(35,"div",26)(36,"p",27),n(37,"or Sign in with"),t()(),e(38,"div",28)(39,"form",29),b("ngSubmit",function(){return i.onSubmit()}),e(40,"div",9)(41,"mat-form-field",30)(42,"mat-label"),n(43,"Username"),t(),l(44,"input",31),e(45,"button",32)(46,"mat-icon"),n(47,"person"),t()(),h(48,Q,2,1,"mat-hint",33),t(),e(49,"mat-form-field",34)(50,"mat-label"),n(51,"Password"),t(),l(52,"input",35),e(53,"button",36),b("click",function(){return i.togglePasswordVisibility()}),e(54,"mat-icon"),n(55),t()(),h(56,X,2,1,"mat-hint",33),t(),e(57,"div",37)(58,"div",38)(59,"mat-checkbox",39),n(60,"Keep me logged in"),t(),e(61,"a",40),n(62,"Forgot Password?"),t()()()(),e(63,"div",41)(64,"button",42),n(65,"Submit"),t()()()()(),e(66,"div",43)(67,"div",44)(68,"div",45),l(69,"img",46),e(70,"h2",47),n(71,"Inventory Management System"),t(),e(72,"p",48),n(73,"Effortlessly manage inventory with real-time tracking, automated updates, and customizable reports. Streamline operations, reduce errors, and boost efficiency."),t()()()()()()()()()()()()),o&2&&(s(39),g("formGroup",i.loginForm),s(9),g("ngIf",i.usernameError),s(4),g("type",i.hidePassword?"password":"text"),s(3),C(i.hidePassword?"visibility":"visibility_off"),s(),g("ngIf",i.passwordError))},dependencies:[M,_,J,k,y,S,O,z,D,B,R,G,T,N,j,V,L,I,E],styles:['.auth-bg[_ngcontent-%COMP%]{background:url(/assets/images/backgrounds/login-background);background-size:cover;background-repeat:no-repeat;min-height:100vh;height:100%;width:100%}.h-n80[_ngcontent-%COMP%]{height:calc(100vh - 80px)}.or-border[_ngcontent-%COMP%]{position:relative;text-align:center}.or-border[_ngcontent-%COMP%]:before{content:"";position:absolute;left:16px;width:100px;top:50%;height:1px;background:#e0e6eb}.or-border[_ngcontent-%COMP%]:after{content:"";position:absolute;right:16px;width:100px;top:50%;height:1px;background:#e0e6eb}.left-border[_ngcontent-%COMP%]{border-left:2px solid rgba(93,136,255,.0823529412);padding-left:20px}@keyframes _ngcontent-%COMP%_typing{0%{width:0}}.login-google-btn[_ngcontent-%COMP%]{border:1px solid rgba(93,136,255,.1921568627);padding:10px 15px;border-radius:6px;cursor:pointer}.login-google-btn[_ngcontent-%COMP%]   .show-text[_ngcontent-%COMP%]{display:none;width:0ch;line-height:1;font-weight:500;white-space:nowrap;overflow:hidden}.login-google-btn[_ngcontent-%COMP%]   .show-text[_ngcontent-%COMP%]   .char-g[_ngcontent-%COMP%]{color:red}.login-google-btn[_ngcontent-%COMP%]   .show-text[_ngcontent-%COMP%]   .char-o[_ngcontent-%COMP%]{color:orange}.login-google-btn[_ngcontent-%COMP%]   .show-text[_ngcontent-%COMP%]   .char-o-2[_ngcontent-%COMP%]{color:#ffd500}.login-google-btn[_ngcontent-%COMP%]   .show-text[_ngcontent-%COMP%]   .char-g-2[_ngcontent-%COMP%]{color:green}.login-google-btn[_ngcontent-%COMP%]   .show-text[_ngcontent-%COMP%]   .char-l[_ngcontent-%COMP%]{color:#00f}.login-google-btn[_ngcontent-%COMP%]   .show-text[_ngcontent-%COMP%]   .char-e[_ngcontent-%COMP%]{color:purple}.login-google-btn[_ngcontent-%COMP%]:hover   .show-text[_ngcontent-%COMP%]{display:block;width:6ch;animation:_ngcontent-%COMP%_typing .3s steps(6)}.login-facebook-btn[_ngcontent-%COMP%]{border:1px solid rgba(93,136,255,.1921568627);padding:10px 15px;border-radius:6px;cursor:pointer}.login-facebook-btn[_ngcontent-%COMP%]   .show-text[_ngcontent-%COMP%]{display:none;width:0ch;line-height:1;color:#1877f2;font-weight:500}.login-facebook-btn[_ngcontent-%COMP%]:hover   .show-text[_ngcontent-%COMP%]{display:block;width:8ch;animation:_ngcontent-%COMP%_typing .3s steps(8);white-space:nowrap;overflow:hidden}.sign-in-with-text[_ngcontent-%COMP%]{position:relative}.sign-in-with-text[_ngcontent-%COMP%]:before{position:absolute;content:"";width:60%;border-bottom:1px solid rgba(93,136,255,.1921568627);top:22px;left:21%}.sign-in-with-text[_ngcontent-%COMP%]   .text-with-bg[_ngcontent-%COMP%]{background-color:#fff;padding:10px;position:relative}.cw-75[_ngcontent-%COMP%]{width:75%}.animated-btn-effect[_ngcontent-%COMP%]{position:relative}.animated-btn-effect[_ngcontent-%COMP%]:before{position:absolute;content:"";width:0%;background-color:#000;height:100%;border-radius:20px;left:0}.animated-btn-effect[_ngcontent-%COMP%]:hover:before{width:100%;transition:.3s width ease}@media screen and (max-width: 767px){.cw-75[_ngcontent-%COMP%]{width:100%}}']})};var f=class a{static \u0275fac=function(o){return new(o||a)};static \u0275cmp=p({type:a,selectors:[["app-register"]],decls:2,vars:0,template:function(o,i){o&1&&(e(0,"p"),n(1,"register works!"),t())},encapsulation:2})};var ce=[{path:"",redirectTo:"/authentication/login",pathMatch:"full"},{path:"login",component:u},{path:"register",component:f}];export{ce as routes};
